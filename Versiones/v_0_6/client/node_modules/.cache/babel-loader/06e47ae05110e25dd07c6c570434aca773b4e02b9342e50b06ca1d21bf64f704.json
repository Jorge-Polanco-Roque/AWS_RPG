{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import styled from'styled-components';import{motion}from'framer-motion';import{useGame}from'../contexts/GameContext';import{useAuth}from'../contexts/AuthContext';import{useSound}from'../contexts/SoundContext';import EntityPortrait from'../components/EntityPortrait';import CombatArena from'../components/CombatArena';import SkillBar from'../components/SkillBar';import BossManager from'../components/BossManager';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GamePage=()=>{const navigate=useNavigate();const location=useLocation();const{playSound}=useSound();const{user}=useAuth();const{currentSession,currentQuestion,gameState,questionHistory,timeRemaining,loading,startGameSession,fetchNextQuestion,submitAnswer,endGameSession,resetGame,getGameStats,setTimeRemaining}=useGame();const[selectedAnswer,setSelectedAnswer]=useState(null);const[showExplanation,setShowExplanation]=useState(false);const[lastResult,setLastResult]=useState(null);const[hasError,setHasError]=useState(false);const[xpGained,setXpGained]=useState(0);const[levelUpAnimation,setLevelUpAnimation]=useState(false);const[streakCount,setStreakCount]=useState(0);const[comboMultiplier,setComboMultiplier]=useState(1);// Sistema de combate\nconst[playerHP,setPlayerHP]=useState(100);const[enemyHP,setEnemyHP]=useState(100);const[maxPlayerHP,setMaxPlayerHP]=useState(100);const[maxEnemyHP,setMaxEnemyHP]=useState(100);const[currentEnemy,setCurrentEnemy]=useState(null);const[combatAction,setCombatAction]=useState(null);// Sistema de habilidades\nconst[activeSkills,setActiveSkills]=useState([]);const[skillEffects,setSkillEffects]=useState([]);// Sistema de jefes\nconst[currentBoss,setCurrentBoss]=useState(null);const[bossHP,setBossHP]=useState(0);const[maxBossHP,setMaxBossHP]=useState(0);const[isBossFight,setIsBossFight]=useState(false);const[bossesDefeated,setBossesDefeated]=useState(0);const searchParams=new URLSearchParams(location.search);const componentFilter=searchParams.get('component');// Definiciones de personajes y enemigos\nconst playerCharacter={name:\"NEXUS-7\",emoji:\"🤖\",description:\"Advanced AI architect\"};const enemyTypes=[{name:\"VIRUS-X\",emoji:\"👾\",hp:80,description:\"Malware entity\"},{name:\"FIREWALL-9\",emoji:\"🔥\",hp:120,description:\"Security barrier\"},{name:\"CRYPTO-GHOST\",emoji:\"👻\",hp:90,description:\"Encryption phantom\"},{name:\"DATA-WORM\",emoji:\"🐛\",hp:70,description:\"Database parasite\"},{name:\"CYBER-SPIDER\",emoji:\"🕷️\",hp:100,description:\"Network crawler\"},{name:\"QUANTUM-BEAST\",emoji:\"⚡\",hp:150,description:\"Processing monster\"},{name:\"SHADOW-PROTOCOL\",emoji:\"🌑\",hp:110,description:\"Dark algorithm\"},{name:\"NEON-SENTINEL\",emoji:\"🔴\",hp:95,description:\"Guardian program\"}];// Habilidades del jugador\nconst playerSkills=[{id:'neural_strike',name:'NEURAL STRIKE',description:'Double damage next attack',icon:'⚡',type:'attack',cooldown:8,effect:'double_damage'},{id:'data_shield',name:'DATA SHIELD',description:'Reduce incoming damage',icon:'🛡️',type:'defense',cooldown:12,effect:'damage_reduction'},{id:'system_restore',name:'SYSTEM RESTORE',description:'Restore 30 HP',icon:'💚',type:'support',cooldown:15,effect:'heal'},{id:'neural_override',name:'NEURAL OVERRIDE',description:'Massive damage attack',icon:'💥',type:'ultimate',cooldown:20,effect:'ultimate_damage'}];// Jefes\nconst bossTypes=[{id:'aws_overlord',name:'AWS OVERLORD',title:'Master of the Cloud',emoji:'👑',hp:300,description:'The supreme ruler of all AWS services',type:'aws_overlord',abilities:[{name:'Service Integration',icon:'🔗'},{name:'Auto Scaling',icon:'📈'},{name:'Global Infrastructure',icon:'🌍'},{name:'Infinite Resources',icon:'♾️'}]},{id:'lambda_lord',name:'LAMBDA LORD',title:'Serverless Tyrant',emoji:'⚡',hp:250,description:'Controller of all serverless functions',type:'lambda_lord',abilities:[{name:'Function Invocation',icon:'🔄'},{name:'Event Triggers',icon:'⚡'},{name:'Memory Allocation',icon:'🧠'},{name:'Timeout Control',icon:'⏰'}]},{id:'ec2_emperor',name:'EC2 EMPEROR',title:'Instance Overlord',emoji:'🏰',hp:350,description:'Master of all compute instances',type:'ec2_emperor',abilities:[{name:'Instance Launch',icon:'🚀'},{name:'Load Balancing',icon:'⚖️'},{name:'Auto Scaling',icon:'📊'},{name:'Spot Instances',icon:'💸'}]},{id:'s3_sovereign',name:'S3 SOVEREIGN',title:'Storage Supreme',emoji:'🗄️',hp:280,description:'Ruler of all object storage',type:'s3_sovereign',abilities:[{name:'Bucket Management',icon:'🪣'},{name:'Versioning',icon:'📚'},{name:'Lifecycle Policies',icon:'🔄'},{name:'Cross-Region Replication',icon:'🌐'}]}];useEffect(()=>{if(gameState==='idle'&&user&&!currentSession){handleStartGame();}},[gameState,user,currentSession]);useEffect(()=>{// Generar primer enemigo cuando comience el juego\nif(gameState==='playing'&&!currentEnemy&&!isBossFight){generateRandomEnemy();}},[gameState,currentEnemy,isBossFight]);useEffect(()=>{// Inicializar habilidades del jugador\nif(gameState==='playing'&&activeSkills.length===0){setActiveSkills(playerSkills);}},[gameState,activeSkills,playerSkills]);useEffect(()=>{let interval;if(gameState==='playing'&&timeRemaining>0){interval=setInterval(()=>{setTimeRemaining(prev=>prev-1);},1000);}else if(timeRemaining===0){handleSubmitAnswer(null);}return()=>clearInterval(interval);},[gameState,timeRemaining]);const handleStartGame=async()=>{playSound('button');setHasError(false);const result=await startGameSession(componentFilter||'all');if(!result.success){setHasError(true);}};const handleSubmitAnswer=async answer=>{if(loading||selectedAnswer!==null)return;playSound('button');setSelectedAnswer(answer);setHasError(false);const result=await submitAnswer(answer);if(result.success){setLastResult(result.result);setShowExplanation(true);// Calculate XP and handle streaks\nif(result.result.correct){const baseXP=10;const streakBonus=streakCount*2;const timeBonus=timeRemaining>60?5:0;const totalXP=(baseXP+streakBonus+timeBonus)*comboMultiplier;setXpGained(totalXP);setStreakCount(prev=>prev+1);if(streakCount>0&&streakCount%5===0){setComboMultiplier(prev=>Math.min(prev+0.5,3));}// Level up check (mock)\nif(totalXP>50){setLevelUpAnimation(true);setTimeout(()=>setLevelUpAnimation(false),3000);}// Combate: Jugador ataca\nhandleCombatDamage(true);}else{setStreakCount(0);setComboMultiplier(1);setXpGained(0);// Combate: Enemigo ataca\nhandleCombatDamage(false);}setTimeout(()=>{setShowExplanation(false);setSelectedAnswer(null);setLastResult(null);setXpGained(0);if((currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)<65){fetchNextQuestion(currentSession.id,componentFilter?{category:componentFilter}:{});}else{endGameSession();}},5000);}else{setHasError(true);setSelectedAnswer(null);}};const handleSaveGame=()=>{if(currentSession&&currentQuestion){const saveData={session:currentSession,question:currentQuestion,questionHistory,timeRemaining,component:componentFilter,timestamp:new Date().toISOString()};localStorage.setItem('neuroArchitectSave',JSON.stringify(saveData));toast.success('Neural matrix data archived!',{icon:'💾',duration:3000});playSound('button');}};const handleReturnToMenu=()=>{playSound('button');if(currentSession&&gameState==='playing'){const confirmLeave=window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');if(!confirmLeave)return;}resetGame();navigate('/');};const handleRetryAfterError=()=>{setHasError(false);setSelectedAnswer(null);};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return`${mins}:${secs.toString().padStart(2,'0')}`;};// Funciones de combate\nconst generateRandomEnemy=()=>{const randomEnemy=enemyTypes[Math.floor(Math.random()*enemyTypes.length)];const enemy={...randomEnemy};setCurrentEnemy(enemy);setEnemyHP(enemy.hp);setMaxEnemyHP(enemy.hp);return enemy;};const handleCombatDamage=isPlayerCorrect=>{if(isPlayerCorrect){// Verificar si hay bonus de doble daño\nconst hasDoubleAttack=skillEffects.some(effect=>effect.effect==='double_damage');// Calcular daño base\nlet damage=Math.floor(Math.random()*25)+15;// 15-40 damage\nif(hasDoubleAttack){damage*=2;// Remover efecto de doble daño\nsetSkillEffects(prev=>prev.filter(effect=>effect.effect!=='double_damage'));}if(isBossFight){// Ataque contra jefe\nconst newBossHP=Math.max(0,bossHP-damage);setBossHP(newBossHP);setCombatAction({type:'player_attack',damage:damage,bossHP:newBossHP});// Si el jefe es derrotado\nif(newBossHP<=0){setTimeout(()=>{handleBossDefeat();},2500);}}else{// Ataque contra enemigo normal\nconst newEnemyHP=Math.max(0,enemyHP-damage);setEnemyHP(newEnemyHP);setCombatAction({type:'player_attack',damage:damage,enemyHP:newEnemyHP});// Si el enemigo es derrotado\nif(newEnemyHP<=0){setTimeout(()=>{checkBossSpawn();if(!isBossFight){generateRandomEnemy();}},2500);}}}else{// Enemigo/Jefe ataca al jugador\nlet damage=Math.floor(Math.random()*20)+10;// 10-30 damage\n// Verificar si hay escudo activo\nconst hasShield=skillEffects.some(effect=>effect.effect==='damage_reduction');if(hasShield){damage=Math.floor(damage*0.5);// 50% reducción\n// Remover efecto de escudo\nsetSkillEffects(prev=>prev.filter(effect=>effect.effect!=='damage_reduction'));}const newPlayerHP=Math.max(0,playerHP-damage);setPlayerHP(newPlayerHP);setCombatAction({type:'enemy_attack',damage:damage,playerHP:newPlayerHP});// Si el jugador muere, reiniciar combate\nif(newPlayerHP<=0){setTimeout(()=>{setPlayerHP(maxPlayerHP);if(isBossFight){setIsBossFight(false);setCurrentBoss(null);}generateRandomEnemy();},3000);}}// Limpiar acción de combate después de un tiempo\nsetTimeout(()=>{setCombatAction(null);},2000);};const handleCombatComplete=result=>{if(result==='victory'){// Bonus XP por derrotar enemigo\nsetXpGained(prev=>prev+25);}else if(result==='defeat'){// Penalty por perder\nsetStreakCount(0);setComboMultiplier(1);}};// Funciones de habilidades\nconst handleSkillUse=skill=>{setSkillEffects(prev=>[...prev,skill]);// Aplicar efecto inmediatamente\nswitch(skill.effect){case'heal':setPlayerHP(prev=>Math.min(maxPlayerHP,prev+30));break;case'double_damage':// Se aplica en el próximo ataque\nbreak;case'damage_reduction':// Se aplica en el próximo ataque recibido\nbreak;case'ultimate_damage':// Daño masivo inmediato\nif(isBossFight){const damage=Math.floor(Math.random()*60)+40;// 40-100 damage\nsetBossHP(prev=>Math.max(0,prev-damage));}else{const damage=Math.floor(Math.random()*50)+35;// 35-85 damage\nsetEnemyHP(prev=>Math.max(0,prev-damage));}break;}// Remover efecto después de un tiempo\nsetTimeout(()=>{setSkillEffects(prev=>prev.filter(s=>s.id!==skill.id));},10000);};// Funciones de jefes\nconst spawnBoss=()=>{const boss=bossTypes[bossesDefeated%bossTypes.length];setCurrentBoss(boss);setBossHP(boss.hp);setMaxBossHP(boss.hp);setIsBossFight(true);setCurrentEnemy(null);// Limpiar enemigo normal\n};const handleBossAttack=attack=>{// El jefe ataca al jugador\nlet damage=attack.damage;// Verificar si hay escudo activo\nconst hasShield=skillEffects.some(effect=>effect.effect==='damage_reduction');if(hasShield){damage=Math.floor(damage*0.5);// 50% reducción\n}setPlayerHP(prev=>Math.max(0,prev-damage));// Aplicar efectos especiales del ataque\nswitch(attack.effect){case'Slow down timer':setTimeRemaining(prev=>Math.max(0,prev-10));break;case'Disable one skill':// Implementar desactivación de habilidad\nbreak;case'Reduce XP gain':setComboMultiplier(prev=>Math.max(0.5,prev-0.5));break;}};const handleBossDefeat=()=>{setBossesDefeated(prev=>prev+1);setIsBossFight(false);setCurrentBoss(null);setXpGained(prev=>prev+100);// Gran bonus por derrotar jefe\n// Generar nuevo enemigo normal\nsetTimeout(()=>{generateRandomEnemy();},2000);};// Modificar el sistema de combate para incluir jefes\nconst checkBossSpawn=()=>{// Spawn boss cada 10 enemigos derrotados\nif(currentSession&&currentSession.correctAnswers>0&&currentSession.correctAnswers%10===0&&!isBossFight){spawnBoss();}};if(gameState==='idle'||loading){return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"NEURAL MATRIX INITIALIZING\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Uploading training protocols...\"}),/*#__PURE__*/_jsx(LoadingSpinner,{children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})]})})});}if(gameState==='ended'){const stats=getGameStats();return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"TRAINING PROTOCOL COMPLETE\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Neural pathway enhancement achieved! Analysis:\"}),/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Questions Answered:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.questionsAnswered})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Correct Answers:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.correctAnswers})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(StatValue,{children:[stats.accuracy,\"%\"]})]})]}),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(ActionButton,{onClick:handleReturnToMenu,children:\"Return to Main Menu\"}),/*#__PURE__*/_jsx(ActionButton,{onClick:handleStartGame,children:\"Start New Session\"})]})]})})});}return/*#__PURE__*/_jsxs(GameContainer,{children:[/*#__PURE__*/_jsxs(GameHeader,{children:[/*#__PURE__*/_jsxs(GameControls,{children:[/*#__PURE__*/_jsx(SaveButton,{onClick:handleSaveGame,children:\"\\uD83D\\uDCBE Save Game\"}),/*#__PURE__*/_jsx(MenuButton,{onClick:handleReturnToMenu,children:\"\\uD83C\\uDFE0 Return to Menu\"})]}),/*#__PURE__*/_jsxs(GameInfo,{children:[/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Question:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)+1,\"/65\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Time:\"}),/*#__PURE__*/_jsx(InfoValue,{children:formatTime(timeRemaining)})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)>0?(currentSession.correctAnswers/currentSession.questionsAnswered*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Streak:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[streakCount,\"x \",comboMultiplier>1&&`(${comboMultiplier}x boost)`]})]})]})]}),gameState==='playing'&&isBossFight&&currentBoss&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsx(BossManager,{currentBoss:currentBoss,bossHP:bossHP,maxBossHP:maxBossHP,onBossDefeat:handleBossDefeat,onBossAttack:handleBossAttack,questionCount:(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)||0})}),gameState==='playing'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsx(CombatArena,{playerCharacter:playerCharacter,enemyCharacter:isBossFight?currentBoss:currentEnemy,playerHP:playerHP,enemyHP:isBossFight?bossHP:enemyHP,maxPlayerHP:maxPlayerHP,maxEnemyHP:isBossFight?maxBossHP:maxEnemyHP,combatAction:combatAction,onCombatComplete:handleCombatComplete})}),gameState==='playing'&&activeSkills.length>0&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.3},children:/*#__PURE__*/_jsx(SkillBar,{skills:activeSkills,onSkillUse:handleSkillUse,disabled:loading||selectedAnswer!==null})}),currentQuestion&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(QuestionCard,{className:\"cyberpunk-card\",children:[currentQuestion.cyberpunkContext&&/*#__PURE__*/_jsxs(EntitySection,{children:[/*#__PURE__*/_jsx(EntityPortrait,{entity:{name:currentQuestion.cyberpunkContext.aiName,emoji:currentQuestion.cyberpunkContext.aiEmoji||\"🤖\",description:currentQuestion.cyberpunkContext.description},size:\"medium\"}),/*#__PURE__*/_jsx(EntityFlavor,{children:currentQuestion.cyberpunkContext.neuralPrompt})]}),/*#__PURE__*/_jsx(QuestionText,{children:currentQuestion.question}),/*#__PURE__*/_jsx(OptionsContainer,{children:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsxs(OptionButton,{onClick:()=>!hasError&&handleSubmitAnswer(index),disabled:loading||selectedAnswer!==null,selected:selectedAnswer===index,className:selectedAnswer===index?'selected':'',children:[String.fromCharCode(65+index),\". \",option]},index))}),hasError&&/*#__PURE__*/_jsxs(ErrorContainer,{children:[/*#__PURE__*/_jsx(ErrorMessage,{children:\"Neural interference detected. Recalibrate your selection.\"}),/*#__PURE__*/_jsx(RetryButton,{onClick:handleRetryAfterError,children:\"RETRY NEURAL LINK\"})]})]})}),levelUpAnimation&&/*#__PURE__*/_jsxs(LevelUpOverlay,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.5},transition:{duration:0.8},children:[/*#__PURE__*/_jsx(LevelUpText,{children:\"\\u26A1 NEURAL UPGRADE ACHIEVED! \\u26A1\"}),/*#__PURE__*/_jsx(LevelUpSubtext,{children:\"Neural pathways enhanced\"})]}),showExplanation&&lastResult&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(ExplanationCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(ExplanationHeader,{correct:lastResult.correct,children:lastResult.correct?'⚡ NEURAL SYNC COMPLETE!':'🔴 NEURAL DESYNC'}),lastResult.correct&&xpGained>0&&/*#__PURE__*/_jsxs(XPGainContainer,{children:[/*#__PURE__*/_jsxs(XPText,{children:[\"+\",xpGained,\" XP\"]}),streakCount>1&&/*#__PURE__*/_jsxs(StreakText,{children:[\"\\uD83D\\uDD25 \",streakCount,\" streak!\"]}),comboMultiplier>1&&/*#__PURE__*/_jsxs(ComboText,{children:[\"\\uD83D\\uDCA5 \",comboMultiplier,\"x multiplier!\"]})]}),/*#__PURE__*/_jsx(ExplanationText,{children:lastResult.explanation}),lastResult.aiResponse&&/*#__PURE__*/_jsx(AIResponse,{children:lastResult.aiResponse})]})})]});};const GameContainer=styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;const GameHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props=>props.theme.colors.border};\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;const GameControls=styled.div`\n  display: flex;\n  gap: 1rem;\n`;const SaveButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.info}, ${props=>props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const MenuButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const GameInfo=styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;const InfoItem=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;const InfoLabel=styled.span`\n  font-size: 0.8rem;\n  color: ${props=>props.theme.colors.textSecondary};\n`;const InfoValue=styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.primary};\n`;const GameCard=styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;const QuestionCard=styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;const EntitySection=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;const EntityFlavor=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;const QuestionText=styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props=>props.theme.colors.text};\n`;const OptionsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;const OptionButton=styled.button`\n  background: ${props=>props.selected?`linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`:`linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`};\n  color: ${props=>props.theme.colors.text};\n  border: 2px solid ${props=>props.selected?props.theme.colors.primary:props.theme.colors.accent};\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props=>props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;const ErrorContainer=styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;const ErrorMessage=styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;const RetryButton=styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;const ExplanationCard=styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;const ExplanationHeader=styled.h3`\n  color: ${props=>props.correct?'#00ff88':'#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;const ExplanationText=styled.p`\n  color: ${props=>props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;const AIResponse=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props=>props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;const StatsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;const StatItem=styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.accent};\n`;const StatLabel=styled.span`\n  color: ${props=>props.theme.colors.textSecondary};\n`;const StatValue=styled.span`\n  color: ${props=>props.theme.colors.primary};\n  font-weight: bold;\n`;const ButtonContainer=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;const ActionButton=styled.button`\n  background: linear-gradient(45deg, ${props=>props.theme.colors.primary}, ${props=>props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;const Title=styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;const Subtitle=styled.p`\n  color: ${props=>props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;const LoadingSpinner=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props=>props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props=>props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;const XPGainContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props=>props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;const XPText=styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.accent};\n  font-family: ${props=>props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props=>props.theme.colors.accent};\n`;const StreakText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.warning};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;const ComboText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.secondary};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;const LevelUpOverlay=styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props=>props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props=>props.theme.colors.primary};\n`;const LevelUpText=styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;const LevelUpSubtext=styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.cyber};\n`;export default GamePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","styled","motion","useGame","useAuth","useSound","EntityPortrait","CombatArena","SkillBar","BossManager","toast","jsx","_jsx","jsxs","_jsxs","GamePage","navigate","location","playSound","user","currentSession","currentQuestion","gameState","questionHistory","timeRemaining","loading","startGameSession","fetchNextQuestion","submitAnswer","endGameSession","resetGame","getGameStats","setTimeRemaining","selectedAnswer","setSelectedAnswer","showExplanation","setShowExplanation","lastResult","setLastResult","hasError","setHasError","xpGained","setXpGained","levelUpAnimation","setLevelUpAnimation","streakCount","setStreakCount","comboMultiplier","setComboMultiplier","playerHP","setPlayerHP","enemyHP","setEnemyHP","maxPlayerHP","setMaxPlayerHP","maxEnemyHP","setMaxEnemyHP","currentEnemy","setCurrentEnemy","combatAction","setCombatAction","activeSkills","setActiveSkills","skillEffects","setSkillEffects","currentBoss","setCurrentBoss","bossHP","setBossHP","maxBossHP","setMaxBossHP","isBossFight","setIsBossFight","bossesDefeated","setBossesDefeated","searchParams","URLSearchParams","search","componentFilter","get","playerCharacter","name","emoji","description","enemyTypes","hp","playerSkills","id","icon","type","cooldown","effect","bossTypes","title","abilities","handleStartGame","generateRandomEnemy","length","interval","setInterval","prev","handleSubmitAnswer","clearInterval","result","success","answer","correct","baseXP","streakBonus","timeBonus","totalXP","Math","min","setTimeout","handleCombatDamage","questionsAnswered","category","handleSaveGame","saveData","session","question","component","timestamp","Date","toISOString","localStorage","setItem","JSON","stringify","duration","handleReturnToMenu","confirmLeave","window","confirm","handleRetryAfterError","formatTime","seconds","mins","floor","secs","toString","padStart","randomEnemy","random","enemy","isPlayerCorrect","hasDoubleAttack","some","damage","filter","newBossHP","max","handleBossDefeat","newEnemyHP","checkBossSpawn","hasShield","newPlayerHP","handleCombatComplete","handleSkillUse","skill","s","spawnBoss","boss","handleBossAttack","attack","correctAnswers","GameContainer","children","div","initial","opacity","y","animate","transition","GameCard","className","Title","Subtitle","LoadingSpinner","stats","StatsContainer","StatItem","StatLabel","StatValue","accuracy","ButtonContainer","ActionButton","onClick","GameHeader","GameControls","SaveButton","MenuButton","GameInfo","InfoItem","InfoLabel","InfoValue","toFixed","onBossDefeat","onBossAttack","questionCount","enemyCharacter","onCombatComplete","delay","skills","onSkillUse","disabled","QuestionCard","cyberpunkContext","EntitySection","entity","aiName","aiEmoji","size","EntityFlavor","neuralPrompt","QuestionText","OptionsContainer","options","map","option","index","OptionButton","selected","String","fromCharCode","ErrorContainer","ErrorMessage","RetryButton","LevelUpOverlay","scale","exit","LevelUpText","LevelUpSubtext","ExplanationCard","ExplanationHeader","XPGainContainer","XPText","StreakText","ComboText","ExplanationText","explanation","aiResponse","AIResponse","props","theme","colors","surface","border","shadows","sm","button","info","primary","md","error","span","textSecondary","backgroundDark","secondary","p","accent","text","backgroundMedium","h3","h1","fonts","display","warning","cyber"],"sources":["/Users/A1064331/Desktop/AWS/Claude/Juego_Estudio_Arq_Soluciones/client/src/pages/GamePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useGame } from '../contexts/GameContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSound } from '../contexts/SoundContext';\nimport EntityPortrait from '../components/EntityPortrait';\nimport CombatArena from '../components/CombatArena';\nimport SkillBar from '../components/SkillBar';\nimport BossManager from '../components/BossManager';\nimport toast from 'react-hot-toast';\n\nconst GamePage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { playSound } = useSound();\n  const { user } = useAuth();\n  const {\n    currentSession,\n    currentQuestion,\n    gameState,\n    questionHistory,\n    timeRemaining,\n    loading,\n    startGameSession,\n    fetchNextQuestion,\n    submitAnswer,\n    endGameSession,\n    resetGame,\n    getGameStats,\n    setTimeRemaining,\n  } = useGame();\n\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [showExplanation, setShowExplanation] = useState(false);\n  const [lastResult, setLastResult] = useState(null);\n  const [hasError, setHasError] = useState(false);\n  const [xpGained, setXpGained] = useState(0);\n  const [levelUpAnimation, setLevelUpAnimation] = useState(false);\n  const [streakCount, setStreakCount] = useState(0);\n  const [comboMultiplier, setComboMultiplier] = useState(1);\n  \n  // Sistema de combate\n  const [playerHP, setPlayerHP] = useState(100);\n  const [enemyHP, setEnemyHP] = useState(100);\n  const [maxPlayerHP, setMaxPlayerHP] = useState(100);\n  const [maxEnemyHP, setMaxEnemyHP] = useState(100);\n  const [currentEnemy, setCurrentEnemy] = useState(null);\n  const [combatAction, setCombatAction] = useState(null);\n  \n  // Sistema de habilidades\n  const [activeSkills, setActiveSkills] = useState([]);\n  const [skillEffects, setSkillEffects] = useState([]);\n  \n  // Sistema de jefes\n  const [currentBoss, setCurrentBoss] = useState(null);\n  const [bossHP, setBossHP] = useState(0);\n  const [maxBossHP, setMaxBossHP] = useState(0);\n  const [isBossFight, setIsBossFight] = useState(false);\n  const [bossesDefeated, setBossesDefeated] = useState(0);\n\n  const searchParams = new URLSearchParams(location.search);\n  const componentFilter = searchParams.get('component');\n\n  // Definiciones de personajes y enemigos\n  const playerCharacter = {\n    name: \"NEXUS-7\",\n    emoji: \"🤖\",\n    description: \"Advanced AI architect\"\n  };\n\n  const enemyTypes = [\n    { name: \"VIRUS-X\", emoji: \"👾\", hp: 80, description: \"Malware entity\" },\n    { name: \"FIREWALL-9\", emoji: \"🔥\", hp: 120, description: \"Security barrier\" },\n    { name: \"CRYPTO-GHOST\", emoji: \"👻\", hp: 90, description: \"Encryption phantom\" },\n    { name: \"DATA-WORM\", emoji: \"🐛\", hp: 70, description: \"Database parasite\" },\n    { name: \"CYBER-SPIDER\", emoji: \"🕷️\", hp: 100, description: \"Network crawler\" },\n    { name: \"QUANTUM-BEAST\", emoji: \"⚡\", hp: 150, description: \"Processing monster\" },\n    { name: \"SHADOW-PROTOCOL\", emoji: \"🌑\", hp: 110, description: \"Dark algorithm\" },\n    { name: \"NEON-SENTINEL\", emoji: \"🔴\", hp: 95, description: \"Guardian program\" }\n  ];\n\n  // Habilidades del jugador\n  const playerSkills = [\n    {\n      id: 'neural_strike',\n      name: 'NEURAL STRIKE',\n      description: 'Double damage next attack',\n      icon: '⚡',\n      type: 'attack',\n      cooldown: 8,\n      effect: 'double_damage'\n    },\n    {\n      id: 'data_shield',\n      name: 'DATA SHIELD',\n      description: 'Reduce incoming damage',\n      icon: '🛡️',\n      type: 'defense',\n      cooldown: 12,\n      effect: 'damage_reduction'\n    },\n    {\n      id: 'system_restore',\n      name: 'SYSTEM RESTORE',\n      description: 'Restore 30 HP',\n      icon: '💚',\n      type: 'support',\n      cooldown: 15,\n      effect: 'heal'\n    },\n    {\n      id: 'neural_override',\n      name: 'NEURAL OVERRIDE',\n      description: 'Massive damage attack',\n      icon: '💥',\n      type: 'ultimate',\n      cooldown: 20,\n      effect: 'ultimate_damage'\n    }\n  ];\n\n  // Jefes\n  const bossTypes = [\n    {\n      id: 'aws_overlord',\n      name: 'AWS OVERLORD',\n      title: 'Master of the Cloud',\n      emoji: '👑',\n      hp: 300,\n      description: 'The supreme ruler of all AWS services',\n      type: 'aws_overlord',\n      abilities: [\n        { name: 'Service Integration', icon: '🔗' },\n        { name: 'Auto Scaling', icon: '📈' },\n        { name: 'Global Infrastructure', icon: '🌍' },\n        { name: 'Infinite Resources', icon: '♾️' }\n      ]\n    },\n    {\n      id: 'lambda_lord',\n      name: 'LAMBDA LORD',\n      title: 'Serverless Tyrant',\n      emoji: '⚡',\n      hp: 250,\n      description: 'Controller of all serverless functions',\n      type: 'lambda_lord',\n      abilities: [\n        { name: 'Function Invocation', icon: '🔄' },\n        { name: 'Event Triggers', icon: '⚡' },\n        { name: 'Memory Allocation', icon: '🧠' },\n        { name: 'Timeout Control', icon: '⏰' }\n      ]\n    },\n    {\n      id: 'ec2_emperor',\n      name: 'EC2 EMPEROR',\n      title: 'Instance Overlord',\n      emoji: '🏰',\n      hp: 350,\n      description: 'Master of all compute instances',\n      type: 'ec2_emperor',\n      abilities: [\n        { name: 'Instance Launch', icon: '🚀' },\n        { name: 'Load Balancing', icon: '⚖️' },\n        { name: 'Auto Scaling', icon: '📊' },\n        { name: 'Spot Instances', icon: '💸' }\n      ]\n    },\n    {\n      id: 's3_sovereign',\n      name: 'S3 SOVEREIGN',\n      title: 'Storage Supreme',\n      emoji: '🗄️',\n      hp: 280,\n      description: 'Ruler of all object storage',\n      type: 's3_sovereign',\n      abilities: [\n        { name: 'Bucket Management', icon: '🪣' },\n        { name: 'Versioning', icon: '📚' },\n        { name: 'Lifecycle Policies', icon: '🔄' },\n        { name: 'Cross-Region Replication', icon: '🌐' }\n      ]\n    }\n  ];\n\n  useEffect(() => {\n    if (gameState === 'idle' && user && !currentSession) {\n      handleStartGame();\n    }\n  }, [gameState, user, currentSession]);\n\n  useEffect(() => {\n    // Generar primer enemigo cuando comience el juego\n    if (gameState === 'playing' && !currentEnemy && !isBossFight) {\n      generateRandomEnemy();\n    }\n  }, [gameState, currentEnemy, isBossFight]);\n\n  useEffect(() => {\n    // Inicializar habilidades del jugador\n    if (gameState === 'playing' && activeSkills.length === 0) {\n      setActiveSkills(playerSkills);\n    }\n  }, [gameState, activeSkills, playerSkills]);\n\n  useEffect(() => {\n    let interval;\n    if (gameState === 'playing' && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => prev - 1);\n      }, 1000);\n    } else if (timeRemaining === 0) {\n      handleSubmitAnswer(null);\n    }\n    return () => clearInterval(interval);\n  }, [gameState, timeRemaining]);\n\n  const handleStartGame = async () => {\n    playSound('button');\n    setHasError(false);\n    const result = await startGameSession(componentFilter || 'all');\n    if (!result.success) {\n      setHasError(true);\n    }\n  };\n\n  const handleSubmitAnswer = async (answer) => {\n    if (loading || selectedAnswer !== null) return;\n    \n    playSound('button');\n    setSelectedAnswer(answer);\n    setHasError(false);\n    \n    const result = await submitAnswer(answer);\n    if (result.success) {\n      setLastResult(result.result);\n      setShowExplanation(true);\n      \n      // Calculate XP and handle streaks\n      if (result.result.correct) {\n        const baseXP = 10;\n        const streakBonus = streakCount * 2;\n        const timeBonus = timeRemaining > 60 ? 5 : 0;\n        const totalXP = (baseXP + streakBonus + timeBonus) * comboMultiplier;\n        \n        setXpGained(totalXP);\n        setStreakCount(prev => prev + 1);\n        \n        if (streakCount > 0 && streakCount % 5 === 0) {\n          setComboMultiplier(prev => Math.min(prev + 0.5, 3));\n        }\n        \n        // Level up check (mock)\n        if (totalXP > 50) {\n          setLevelUpAnimation(true);\n          setTimeout(() => setLevelUpAnimation(false), 3000);\n        }\n\n        // Combate: Jugador ataca\n        handleCombatDamage(true);\n      } else {\n        setStreakCount(0);\n        setComboMultiplier(1);\n        setXpGained(0);\n        \n        // Combate: Enemigo ataca\n        handleCombatDamage(false);\n      }\n      \n      setTimeout(() => {\n        setShowExplanation(false);\n        setSelectedAnswer(null);\n        setLastResult(null);\n        setXpGained(0);\n        \n        if (currentSession?.questionsAnswered < 65) {\n          fetchNextQuestion(currentSession.id, componentFilter ? { category: componentFilter } : {});\n        } else {\n          endGameSession();\n        }\n      }, 5000);\n    } else {\n      setHasError(true);\n      setSelectedAnswer(null);\n    }\n  };\n\n  const handleSaveGame = () => {\n    if (currentSession && currentQuestion) {\n      const saveData = {\n        session: currentSession,\n        question: currentQuestion,\n        questionHistory,\n        timeRemaining,\n        component: componentFilter,\n        timestamp: new Date().toISOString(),\n      };\n      \n      localStorage.setItem('neuroArchitectSave', JSON.stringify(saveData));\n      \n      toast.success('Neural matrix data archived!', {\n        icon: '💾',\n        duration: 3000,\n      });\n      \n      playSound('button');\n    }\n  };\n\n  const handleReturnToMenu = () => {\n    playSound('button');\n    if (currentSession && gameState === 'playing') {\n      const confirmLeave = window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');\n      if (!confirmLeave) return;\n    }\n    \n    resetGame();\n    navigate('/');\n  };\n\n  const handleRetryAfterError = () => {\n    setHasError(false);\n    setSelectedAnswer(null);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Funciones de combate\n  const generateRandomEnemy = () => {\n    const randomEnemy = enemyTypes[Math.floor(Math.random() * enemyTypes.length)];\n    const enemy = { ...randomEnemy };\n    setCurrentEnemy(enemy);\n    setEnemyHP(enemy.hp);\n    setMaxEnemyHP(enemy.hp);\n    return enemy;\n  };\n\n  const handleCombatDamage = (isPlayerCorrect) => {\n    if (isPlayerCorrect) {\n      // Verificar si hay bonus de doble daño\n      const hasDoubleAttack = skillEffects.some(effect => effect.effect === 'double_damage');\n      \n      // Calcular daño base\n      let damage = Math.floor(Math.random() * 25) + 15; // 15-40 damage\n      if (hasDoubleAttack) {\n        damage *= 2;\n        // Remover efecto de doble daño\n        setSkillEffects(prev => prev.filter(effect => effect.effect !== 'double_damage'));\n      }\n      \n      if (isBossFight) {\n        // Ataque contra jefe\n        const newBossHP = Math.max(0, bossHP - damage);\n        setBossHP(newBossHP);\n        \n        setCombatAction({\n          type: 'player_attack',\n          damage: damage,\n          bossHP: newBossHP\n        });\n\n        // Si el jefe es derrotado\n        if (newBossHP <= 0) {\n          setTimeout(() => {\n            handleBossDefeat();\n          }, 2500);\n        }\n      } else {\n        // Ataque contra enemigo normal\n        const newEnemyHP = Math.max(0, enemyHP - damage);\n        setEnemyHP(newEnemyHP);\n        \n        setCombatAction({\n          type: 'player_attack',\n          damage: damage,\n          enemyHP: newEnemyHP\n        });\n\n        // Si el enemigo es derrotado\n        if (newEnemyHP <= 0) {\n          setTimeout(() => {\n            checkBossSpawn();\n            if (!isBossFight) {\n              generateRandomEnemy();\n            }\n          }, 2500);\n        }\n      }\n    } else {\n      // Enemigo/Jefe ataca al jugador\n      let damage = Math.floor(Math.random() * 20) + 10; // 10-30 damage\n      \n      // Verificar si hay escudo activo\n      const hasShield = skillEffects.some(effect => effect.effect === 'damage_reduction');\n      if (hasShield) {\n        damage = Math.floor(damage * 0.5); // 50% reducción\n        // Remover efecto de escudo\n        setSkillEffects(prev => prev.filter(effect => effect.effect !== 'damage_reduction'));\n      }\n      \n      const newPlayerHP = Math.max(0, playerHP - damage);\n      setPlayerHP(newPlayerHP);\n      \n      setCombatAction({\n        type: 'enemy_attack',\n        damage: damage,\n        playerHP: newPlayerHP\n      });\n\n      // Si el jugador muere, reiniciar combate\n      if (newPlayerHP <= 0) {\n        setTimeout(() => {\n          setPlayerHP(maxPlayerHP);\n          if (isBossFight) {\n            setIsBossFight(false);\n            setCurrentBoss(null);\n          }\n          generateRandomEnemy();\n        }, 3000);\n      }\n    }\n\n    // Limpiar acción de combate después de un tiempo\n    setTimeout(() => {\n      setCombatAction(null);\n    }, 2000);\n  };\n\n  const handleCombatComplete = (result) => {\n    if (result === 'victory') {\n      // Bonus XP por derrotar enemigo\n      setXpGained(prev => prev + 25);\n    } else if (result === 'defeat') {\n      // Penalty por perder\n      setStreakCount(0);\n      setComboMultiplier(1);\n    }\n  };\n\n  // Funciones de habilidades\n  const handleSkillUse = (skill) => {\n    setSkillEffects(prev => [...prev, skill]);\n    \n    // Aplicar efecto inmediatamente\n    switch (skill.effect) {\n      case 'heal':\n        setPlayerHP(prev => Math.min(maxPlayerHP, prev + 30));\n        break;\n      case 'double_damage':\n        // Se aplica en el próximo ataque\n        break;\n      case 'damage_reduction':\n        // Se aplica en el próximo ataque recibido\n        break;\n      case 'ultimate_damage':\n        // Daño masivo inmediato\n        if (isBossFight) {\n          const damage = Math.floor(Math.random() * 60) + 40; // 40-100 damage\n          setBossHP(prev => Math.max(0, prev - damage));\n        } else {\n          const damage = Math.floor(Math.random() * 50) + 35; // 35-85 damage\n          setEnemyHP(prev => Math.max(0, prev - damage));\n        }\n        break;\n    }\n    \n    // Remover efecto después de un tiempo\n    setTimeout(() => {\n      setSkillEffects(prev => prev.filter(s => s.id !== skill.id));\n    }, 10000);\n  };\n\n  // Funciones de jefes\n  const spawnBoss = () => {\n    const boss = bossTypes[bossesDefeated % bossTypes.length];\n    setCurrentBoss(boss);\n    setBossHP(boss.hp);\n    setMaxBossHP(boss.hp);\n    setIsBossFight(true);\n    setCurrentEnemy(null); // Limpiar enemigo normal\n  };\n\n  const handleBossAttack = (attack) => {\n    // El jefe ataca al jugador\n    let damage = attack.damage;\n    \n    // Verificar si hay escudo activo\n    const hasShield = skillEffects.some(effect => effect.effect === 'damage_reduction');\n    if (hasShield) {\n      damage = Math.floor(damage * 0.5); // 50% reducción\n    }\n    \n    setPlayerHP(prev => Math.max(0, prev - damage));\n    \n    // Aplicar efectos especiales del ataque\n    switch (attack.effect) {\n      case 'Slow down timer':\n        setTimeRemaining(prev => Math.max(0, prev - 10));\n        break;\n      case 'Disable one skill':\n        // Implementar desactivación de habilidad\n        break;\n      case 'Reduce XP gain':\n        setComboMultiplier(prev => Math.max(0.5, prev - 0.5));\n        break;\n    }\n  };\n\n  const handleBossDefeat = () => {\n    setBossesDefeated(prev => prev + 1);\n    setIsBossFight(false);\n    setCurrentBoss(null);\n    setXpGained(prev => prev + 100); // Gran bonus por derrotar jefe\n    \n    // Generar nuevo enemigo normal\n    setTimeout(() => {\n      generateRandomEnemy();\n    }, 2000);\n  };\n\n  // Modificar el sistema de combate para incluir jefes\n  const checkBossSpawn = () => {\n    // Spawn boss cada 10 enemigos derrotados\n    if (currentSession && currentSession.correctAnswers > 0 && \n        currentSession.correctAnswers % 10 === 0 && !isBossFight) {\n      spawnBoss();\n    }\n  };\n\n  if (gameState === 'idle' || loading) {\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">NEURAL MATRIX INITIALIZING</Title>\n            <Subtitle>Uploading training protocols...</Subtitle>\n            <LoadingSpinner>\n              <div className=\"spinner\"></div>\n            </LoadingSpinner>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  if (gameState === 'ended') {\n    const stats = getGameStats();\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">TRAINING PROTOCOL COMPLETE</Title>\n            <Subtitle>Neural pathway enhancement achieved! Analysis:</Subtitle>\n            \n            <StatsContainer>\n              <StatItem>\n                <StatLabel>Questions Answered:</StatLabel>\n                <StatValue>{stats.questionsAnswered}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Correct Answers:</StatLabel>\n                <StatValue>{stats.correctAnswers}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Accuracy:</StatLabel>\n                <StatValue>{stats.accuracy}%</StatValue>\n              </StatItem>\n            </StatsContainer>\n            \n            <ButtonContainer>\n              <ActionButton onClick={handleReturnToMenu}>\n                Return to Main Menu\n              </ActionButton>\n              <ActionButton onClick={handleStartGame}>\n                Start New Session\n              </ActionButton>\n            </ButtonContainer>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  return (\n    <GameContainer>\n      <GameHeader>\n        <GameControls>\n          <SaveButton onClick={handleSaveGame}>\n            💾 Save Game\n          </SaveButton>\n          <MenuButton onClick={handleReturnToMenu}>\n            🏠 Return to Menu\n          </MenuButton>\n        </GameControls>\n        \n        <GameInfo>\n          <InfoItem>\n            <InfoLabel>Question:</InfoLabel>\n            <InfoValue>{currentSession?.questionsAnswered + 1}/65</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Time:</InfoLabel>\n            <InfoValue>{formatTime(timeRemaining)}</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Accuracy:</InfoLabel>\n            <InfoValue>\n              {currentSession?.questionsAnswered > 0 \n                ? ((currentSession.correctAnswers / currentSession.questionsAnswered) * 100).toFixed(1)\n                : 0}%\n            </InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Streak:</InfoLabel>\n            <InfoValue>\n              {streakCount}x {comboMultiplier > 1 && `(${comboMultiplier}x boost)`}\n            </InfoValue>\n          </InfoItem>\n        </GameInfo>\n      </GameHeader>\n\n      {/* Boss Manager */}\n      {gameState === 'playing' && isBossFight && currentBoss && (\n        <motion.div\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <BossManager\n            currentBoss={currentBoss}\n            bossHP={bossHP}\n            maxBossHP={maxBossHP}\n            onBossDefeat={handleBossDefeat}\n            onBossAttack={handleBossAttack}\n            questionCount={currentSession?.questionsAnswered || 0}\n          />\n        </motion.div>\n      )}\n\n      {/* Arena de Combate */}\n      {gameState === 'playing' && (\n        <motion.div\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <CombatArena\n            playerCharacter={playerCharacter}\n            enemyCharacter={isBossFight ? currentBoss : currentEnemy}\n            playerHP={playerHP}\n            enemyHP={isBossFight ? bossHP : enemyHP}\n            maxPlayerHP={maxPlayerHP}\n            maxEnemyHP={isBossFight ? maxBossHP : maxEnemyHP}\n            combatAction={combatAction}\n            onCombatComplete={handleCombatComplete}\n          />\n        </motion.div>\n      )}\n\n      {/* Barra de Habilidades */}\n      {gameState === 'playing' && activeSkills.length > 0 && (\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.3 }}\n        >\n          <SkillBar\n            skills={activeSkills}\n            onSkillUse={handleSkillUse}\n            disabled={loading || selectedAnswer !== null}\n          />\n        </motion.div>\n      )}\n\n      {currentQuestion && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <QuestionCard className=\"cyberpunk-card\">\n            {currentQuestion.cyberpunkContext && (\n              <EntitySection>\n                <EntityPortrait \n                  entity={{\n                    name: currentQuestion.cyberpunkContext.aiName,\n                    emoji: currentQuestion.cyberpunkContext.aiEmoji || \"🤖\",\n                    description: currentQuestion.cyberpunkContext.description\n                  }}\n                  size=\"medium\"\n                />\n                <EntityFlavor>\n                  {currentQuestion.cyberpunkContext.neuralPrompt}\n                </EntityFlavor>\n              </EntitySection>\n            )}\n            \n            <QuestionText>{currentQuestion.question}</QuestionText>\n            \n            <OptionsContainer>\n              {currentQuestion.options.map((option, index) => (\n                <OptionButton\n                  key={index}\n                  onClick={() => !hasError && handleSubmitAnswer(index)}\n                  disabled={loading || selectedAnswer !== null}\n                  selected={selectedAnswer === index}\n                  className={selectedAnswer === index ? 'selected' : ''}\n                >\n                  {String.fromCharCode(65 + index)}. {option}\n                </OptionButton>\n              ))}\n            </OptionsContainer>\n\n            {hasError && (\n              <ErrorContainer>\n                <ErrorMessage>\n                  Neural interference detected. Recalibrate your selection.\n                </ErrorMessage>\n                <RetryButton onClick={handleRetryAfterError}>\n                  RETRY NEURAL LINK\n                </RetryButton>\n              </ErrorContainer>\n            )}\n          </QuestionCard>\n        </motion.div>\n      )}\n\n      {levelUpAnimation && (\n        <LevelUpOverlay\n          initial={{ opacity: 0, scale: 0.5 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 1.5 }}\n          transition={{ duration: 0.8 }}\n        >\n          <LevelUpText>⚡ NEURAL UPGRADE ACHIEVED! ⚡</LevelUpText>\n          <LevelUpSubtext>Neural pathways enhanced</LevelUpSubtext>\n        </LevelUpOverlay>\n      )}\n      \n      {showExplanation && lastResult && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <ExplanationCard className=\"cyberpunk-card\">\n            <ExplanationHeader correct={lastResult.correct}>\n              {lastResult.correct ? '⚡ NEURAL SYNC COMPLETE!' : '🔴 NEURAL DESYNC'}\n            </ExplanationHeader>\n            \n            {lastResult.correct && xpGained > 0 && (\n              <XPGainContainer>\n                <XPText>+{xpGained} XP</XPText>\n                {streakCount > 1 && <StreakText>🔥 {streakCount} streak!</StreakText>}\n                {comboMultiplier > 1 && <ComboText>💥 {comboMultiplier}x multiplier!</ComboText>}\n              </XPGainContainer>\n            )}\n            \n            <ExplanationText>\n              {lastResult.explanation}\n            </ExplanationText>\n            {lastResult.aiResponse && (\n              <AIResponse>\n                {lastResult.aiResponse}\n              </AIResponse>\n            )}\n          </ExplanationCard>\n        </motion.div>\n      )}\n    </GameContainer>\n  );\n};\n\nconst GameContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst GameHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props => props.theme.colors.border};\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst GameControls = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst SaveButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.info}, ${props => props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst MenuButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst GameInfo = styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst InfoLabel = styled.span`\n  font-size: 0.8rem;\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst InfoValue = styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.primary};\n`;\n\nconst GameCard = styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;\n\nconst QuestionCard = styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;\n\nconst EntitySection = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;\n\nconst EntityFlavor = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;\n\nconst QuestionText = styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst OptionButton = styled.button`\n  background: ${props => props.selected \n    ? `linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`\n    : `linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`\n  };\n  color: ${props => props.theme.colors.text};\n  border: 2px solid ${props => props.selected \n    ? props.theme.colors.primary \n    : props.theme.colors.accent\n  };\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props => props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n\nconst ErrorContainer = styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;\n\nconst ErrorMessage = styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;\n\nconst RetryButton = styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst ExplanationCard = styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;\n\nconst ExplanationHeader = styled.h3`\n  color: ${props => props.correct ? '#00ff88' : '#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;\n\nconst ExplanationText = styled.p`\n  color: ${props => props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;\n\nconst AIResponse = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props => props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;\n\nconst StatsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;\n\nconst StatItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.accent};\n`;\n\nconst StatLabel = styled.span`\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst StatValue = styled.span`\n  color: ${props => props.theme.colors.primary};\n  font-weight: bold;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst ActionButton = styled.button`\n  background: linear-gradient(45deg, ${props => props.theme.colors.primary}, ${props => props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props => props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props => props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst XPGainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props => props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;\n\nconst XPText = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.accent};\n  font-family: ${props => props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props => props.theme.colors.accent};\n`;\n\nconst StreakText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.warning};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;\n\nconst ComboText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.secondary};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;\n\nconst LevelUpOverlay = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props => props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props => props.theme.colors.primary};\n`;\n\nconst LevelUpText = styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props => props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;\n\nconst LevelUpSubtext = styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props => props.theme.fonts.cyber};\n`;\n\nexport default GamePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}