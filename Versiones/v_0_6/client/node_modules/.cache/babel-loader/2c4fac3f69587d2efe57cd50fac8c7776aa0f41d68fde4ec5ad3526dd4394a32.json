{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const{isAuthenticated,loading}=useAuth();// Check for test mode bypass\nconst isLocalhost=window.location.hostname==='localhost'||window.location.hostname==='127.0.0.1';const testModeEnabled=localStorage.getItem('test_mode_enabled')==='true';// Debug logs\nconsole.log('ProtectedRoute Debug:',{isAuthenticated,loading,isLocalhost,testModeEnabled,nodeEnv:typeof process!=='undefined'?process.env.NODE_ENV:'unknown'});if(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100vh',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-tentacles\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tentacle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tentacle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tentacle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tentacle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tentacle\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#00FFFF',marginTop:'1rem'},children:\"Initializing neural interface...\"})]});}// Allow access if authenticated OR in test mode\nconst hasAccess=isAuthenticated||isLocalhost&&testModeEnabled;return hasAccess?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};export default ProtectedRoute;","map":{"version":3,"names":["React","Navigate","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","loading","isLocalhost","window","location","hostname","testModeEnabled","localStorage","getItem","console","log","nodeEnv","process","env","NODE_ENV","style","display","justifyContent","alignItems","height","flexDirection","className","color","marginTop","hasAccess","to"],"sources":["/Users/A1064331/Desktop/AWS/Claude/Juego_Estudio_Arq_Soluciones/client/src/components/ProtectedRoute.js"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst ProtectedRoute = ({ children }) => {\n  const { isAuthenticated, loading } = useAuth();\n\n  // Check for test mode bypass\n  const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';\n  const testModeEnabled = localStorage.getItem('test_mode_enabled') === 'true';\n\n  // Debug logs\n  console.log('ProtectedRoute Debug:', {\n    isAuthenticated,\n    loading,\n    isLocalhost,\n    testModeEnabled,\n    nodeEnv: typeof process !== 'undefined' ? process.env.NODE_ENV : 'unknown'\n  });\n\n  if (loading) {\n    return (\n      <div style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh',\n        flexDirection: 'column'\n      }}>\n        <div className=\"loading-tentacles\">\n          <div className=\"tentacle\"></div>\n          <div className=\"tentacle\"></div>\n          <div className=\"tentacle\"></div>\n          <div className=\"tentacle\"></div>\n          <div className=\"tentacle\"></div>\n        </div>\n        <p style={{ color: '#00FFFF', marginTop: '1rem' }}>\n          Initializing neural interface...\n        </p>\n      </div>\n    );\n  }\n\n  // Allow access if authenticated OR in test mode\n  const hasAccess = isAuthenticated || (isLocalhost && testModeEnabled);\n  \n  return hasAccess ? children : <Navigate to=\"/login\" />;\n};\n\nexport default ProtectedRoute;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAC3C,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAAEE,eAAe,CAAEC,OAAQ,CAAC,CAAGT,OAAO,CAAC,CAAC,CAE9C;AACA,KAAM,CAAAU,WAAW,CAAGC,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,EAAIF,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAK,WAAW,CACxG,KAAM,CAAAC,eAAe,CAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,GAAK,MAAM,CAE5E;AACAC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAE,CACnCV,eAAe,CACfC,OAAO,CACPC,WAAW,CACXI,eAAe,CACfK,OAAO,CAAE,MAAO,CAAAC,OAAO,GAAK,WAAW,CAAGA,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAG,SACnE,CAAC,CAAC,CAEF,GAAIb,OAAO,CAAE,CACX,mBACEL,KAAA,QAAKmB,KAAK,CAAE,CACVC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,MAAM,CAAE,OAAO,CACfC,aAAa,CAAE,QACjB,CAAE,CAAArB,QAAA,eACAH,KAAA,QAAKyB,SAAS,CAAC,mBAAmB,CAAAtB,QAAA,eAChCL,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAM,CAAC,cAChC3B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAM,CAAC,cAChC3B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAM,CAAC,cAChC3B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAM,CAAC,cAChC3B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAM,CAAC,EAC7B,CAAC,cACN3B,IAAA,MAAGqB,KAAK,CAAE,CAAEO,KAAK,CAAE,SAAS,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAxB,QAAA,CAAC,kCAEnD,CAAG,CAAC,EACD,CAAC,CAEV,CAEA;AACA,KAAM,CAAAyB,SAAS,CAAGxB,eAAe,EAAKE,WAAW,EAAII,eAAgB,CAErE,MAAO,CAAAkB,SAAS,CAAGzB,QAAQ,cAAGL,IAAA,CAACH,QAAQ,EAACkC,EAAE,CAAC,QAAQ,CAAE,CAAC,CACxD,CAAC,CAED,cAAe,CAAA5B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}