{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const SoundContext=/*#__PURE__*/createContext();export const useSound=()=>{const context=useContext(SoundContext);if(!context){throw new Error('useSound must be used within a SoundProvider');}return context;};export const SoundProvider=_ref=>{let{children}=_ref;const[soundEnabled,setSoundEnabled]=useState(()=>{return localStorage.getItem('cosmic_sound_enabled')!=='false';});const[volume,setVolume]=useState(()=>{return parseFloat(localStorage.getItem('cosmic_volume'))||0.5;});useEffect(()=>{localStorage.setItem('cosmic_sound_enabled',soundEnabled.toString());},[soundEnabled]);useEffect(()=>{localStorage.setItem('cosmic_volume',volume.toString());},[volume]);// Simple sound implementation using Web Audio API\nconst playSound=function(soundName){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!soundEnabled)return;try{// Create a simple beep sound for now\nconst audioContext=new(window.AudioContext||window.webkitAudioContext)();const oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();oscillator.connect(gainNode);gainNode.connect(audioContext.destination);// Different frequencies for different sounds\nconst frequencies={button:800,correct:600,incorrect:300,ambient:200,levelUp:1000,sanityLoss:150,cosmicHorror:100};oscillator.frequency.setValueAtTime(frequencies[soundName]||400,audioContext.currentTime);oscillator.type=soundName==='cosmicHorror'?'sawtooth':'sine';gainNode.gain.setValueAtTime(volume*0.1,audioContext.currentTime);gainNode.gain.exponentialRampToValueAtTime(0.01,audioContext.currentTime+0.1);oscillator.start(audioContext.currentTime);oscillator.stop(audioContext.currentTime+0.1);if(options.onEnd){setTimeout(options.onEnd,100);}}catch(error){console.warn(`Failed to play sound ${soundName}:`,error);}};const stopSound=soundName=>{// Simple implementation - sounds auto-stop\n};const playBackgroundMusic=()=>{if(!soundEnabled)return;// Could implement continuous ambient sound here\n};const stopBackgroundMusic=()=>{// Stop ambient sound\n};const toggleSound=()=>{setSoundEnabled(!soundEnabled);};const stopAllSounds=()=>{// Stop all sounds\n};const setGlobalVolume=newVolume=>{setVolume(Math.max(0,Math.min(1,newVolume)));};const value={soundEnabled,volume,playSound,stopSound,playBackgroundMusic,stopBackgroundMusic,toggleSound,stopAllSounds,setGlobalVolume};return/*#__PURE__*/_jsx(SoundContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","SoundContext","useSound","context","Error","SoundProvider","_ref","children","soundEnabled","setSoundEnabled","localStorage","getItem","volume","setVolume","parseFloat","setItem","toString","playSound","soundName","options","arguments","length","undefined","audioContext","window","AudioContext","webkitAudioContext","oscillator","createOscillator","gainNode","createGain","connect","destination","frequencies","button","correct","incorrect","ambient","levelUp","sanityLoss","cosmicHorror","frequency","setValueAtTime","currentTime","type","gain","exponentialRampToValueAtTime","start","stop","onEnd","setTimeout","error","console","warn","stopSound","playBackgroundMusic","stopBackgroundMusic","toggleSound","stopAllSounds","setGlobalVolume","newVolume","Math","max","min","value","Provider"],"sources":["/Users/A1064331/Desktop/AWS/Claude/Juego_Estudio_Arq_Soluciones/client/src/contexts/SoundContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst SoundContext = createContext();\n\nexport const useSound = () => {\n  const context = useContext(SoundContext);\n  if (!context) {\n    throw new Error('useSound must be used within a SoundProvider');\n  }\n  return context;\n};\n\nexport const SoundProvider = ({ children }) => {\n  const [soundEnabled, setSoundEnabled] = useState(() => {\n    return localStorage.getItem('cosmic_sound_enabled') !== 'false';\n  });\n  const [volume, setVolume] = useState(() => {\n    return parseFloat(localStorage.getItem('cosmic_volume')) || 0.5;\n  });\n\n  useEffect(() => {\n    localStorage.setItem('cosmic_sound_enabled', soundEnabled.toString());\n  }, [soundEnabled]);\n\n  useEffect(() => {\n    localStorage.setItem('cosmic_volume', volume.toString());\n  }, [volume]);\n\n  // Simple sound implementation using Web Audio API\n  const playSound = (soundName, options = {}) => {\n    if (!soundEnabled) return;\n    \n    try {\n      // Create a simple beep sound for now\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      // Different frequencies for different sounds\n      const frequencies = {\n        button: 800,\n        correct: 600,\n        incorrect: 300,\n        ambient: 200,\n        levelUp: 1000,\n        sanityLoss: 150,\n        cosmicHorror: 100\n      };\n      \n      oscillator.frequency.setValueAtTime(frequencies[soundName] || 400, audioContext.currentTime);\n      oscillator.type = soundName === 'cosmicHorror' ? 'sawtooth' : 'sine';\n      \n      gainNode.gain.setValueAtTime(volume * 0.1, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.1);\n      \n      if (options.onEnd) {\n        setTimeout(options.onEnd, 100);\n      }\n    } catch (error) {\n      console.warn(`Failed to play sound ${soundName}:`, error);\n    }\n  };\n\n  const stopSound = (soundName) => {\n    // Simple implementation - sounds auto-stop\n  };\n\n  const playBackgroundMusic = () => {\n    if (!soundEnabled) return;\n    // Could implement continuous ambient sound here\n  };\n\n  const stopBackgroundMusic = () => {\n    // Stop ambient sound\n  };\n\n  const toggleSound = () => {\n    setSoundEnabled(!soundEnabled);\n  };\n\n  const stopAllSounds = () => {\n    // Stop all sounds\n  };\n\n  const setGlobalVolume = (newVolume) => {\n    setVolume(Math.max(0, Math.min(1, newVolume)));\n  };\n\n  const value = {\n    soundEnabled,\n    volume,\n    playSound,\n    stopSound,\n    playBackgroundMusic,\n    stopBackgroundMusic,\n    toggleSound,\n    stopAllSounds,\n    setGlobalVolume,\n  };\n\n  return (\n    <SoundContext.Provider value={value}>\n      {children}\n    </SoundContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}