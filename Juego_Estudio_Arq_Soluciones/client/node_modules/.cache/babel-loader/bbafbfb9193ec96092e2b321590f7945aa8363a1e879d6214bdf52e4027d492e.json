{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import styled from'styled-components';import{motion}from'framer-motion';import{useGame}from'../contexts/GameContext';import{useAuth}from'../contexts/AuthContext';import{useSound}from'../contexts/SoundContext';import EntityPortrait from'../components/EntityPortrait';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GamePage=()=>{const navigate=useNavigate();const location=useLocation();const{playSound}=useSound();const{user}=useAuth();const{currentSession,currentQuestion,gameState,questionHistory,timeRemaining,loading,startGameSession,fetchNextQuestion,submitAnswer,endGameSession,resetGame,getGameStats,setTimeRemaining}=useGame();const[selectedAnswer,setSelectedAnswer]=useState(null);const[showExplanation,setShowExplanation]=useState(false);const[lastResult,setLastResult]=useState(null);const[hasError,setHasError]=useState(false);const[xpGained,setXpGained]=useState(0);const[levelUpAnimation,setLevelUpAnimation]=useState(false);const[streakCount,setStreakCount]=useState(0);const[comboMultiplier,setComboMultiplier]=useState(1);const searchParams=new URLSearchParams(location.search);const componentFilter=searchParams.get('component');useEffect(()=>{if(gameState==='idle'&&user&&!currentSession){handleStartGame();}},[gameState,user,currentSession]);useEffect(()=>{let interval;if(gameState==='playing'&&timeRemaining>0){interval=setInterval(()=>{setTimeRemaining(prev=>prev-1);},1000);}else if(timeRemaining===0){handleSubmitAnswer(null);}return()=>clearInterval(interval);},[gameState,timeRemaining]);const handleStartGame=async()=>{playSound('button');setHasError(false);const result=await startGameSession(componentFilter||'all');if(!result.success){setHasError(true);}};const handleSubmitAnswer=async answer=>{if(loading||selectedAnswer!==null)return;playSound('button');setSelectedAnswer(answer);setHasError(false);const result=await submitAnswer(answer);if(result.success){setLastResult(result.result);setShowExplanation(true);// Calculate XP and handle streaks\nif(result.result.correct){const baseXP=10;const streakBonus=streakCount*2;const timeBonus=timeRemaining>60?5:0;const totalXP=(baseXP+streakBonus+timeBonus)*comboMultiplier;setXpGained(totalXP);setStreakCount(prev=>prev+1);if(streakCount>0&&streakCount%5===0){setComboMultiplier(prev=>Math.min(prev+0.5,3));}// Level up check (mock)\nif(totalXP>50){setLevelUpAnimation(true);setTimeout(()=>setLevelUpAnimation(false),3000);}}else{setStreakCount(0);setComboMultiplier(1);setXpGained(0);}setTimeout(()=>{setShowExplanation(false);setSelectedAnswer(null);setLastResult(null);setXpGained(0);if((currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)<65){fetchNextQuestion(currentSession.id,componentFilter?{category:componentFilter}:{});}else{endGameSession();}},5000);}else{setHasError(true);setSelectedAnswer(null);}};const handleSaveGame=()=>{if(currentSession&&currentQuestion){const saveData={session:currentSession,question:currentQuestion,questionHistory,timeRemaining,component:componentFilter,timestamp:new Date().toISOString()};localStorage.setItem('neuroArchitectSave',JSON.stringify(saveData));toast.success('Neural matrix data archived!',{icon:'üíæ',duration:3000});playSound('button');}};const handleReturnToMenu=()=>{playSound('button');if(currentSession&&gameState==='playing'){const confirmLeave=window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');if(!confirmLeave)return;}resetGame();navigate('/');};const handleRetryAfterError=()=>{setHasError(false);setSelectedAnswer(null);};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return`${mins}:${secs.toString().padStart(2,'0')}`;};if(gameState==='idle'||loading){return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"NEURAL MATRIX INITIALIZING\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Uploading training protocols...\"}),/*#__PURE__*/_jsx(LoadingSpinner,{children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})]})})});}if(gameState==='ended'){const stats=getGameStats();return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"TRAINING PROTOCOL COMPLETE\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Neural pathway enhancement achieved! Analysis:\"}),/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Questions Answered:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.questionsAnswered})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Correct Answers:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.correctAnswers})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(StatValue,{children:[stats.accuracy,\"%\"]})]})]}),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(ActionButton,{onClick:handleReturnToMenu,children:\"Return to Main Menu\"}),/*#__PURE__*/_jsx(ActionButton,{onClick:handleStartGame,children:\"Start New Session\"})]})]})})});}return/*#__PURE__*/_jsxs(GameContainer,{children:[/*#__PURE__*/_jsxs(GameHeader,{children:[/*#__PURE__*/_jsxs(GameControls,{children:[/*#__PURE__*/_jsx(SaveButton,{onClick:handleSaveGame,children:\"\\uD83D\\uDCBE Save Game\"}),/*#__PURE__*/_jsx(MenuButton,{onClick:handleReturnToMenu,children:\"\\uD83C\\uDFE0 Return to Menu\"})]}),/*#__PURE__*/_jsxs(GameInfo,{children:[/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Question:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)+1,\"/65\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Time:\"}),/*#__PURE__*/_jsx(InfoValue,{children:formatTime(timeRemaining)})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)>0?(currentSession.correctAnswers/currentSession.questionsAnswered*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Streak:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[streakCount,\"x \",comboMultiplier>1&&`(${comboMultiplier}x boost)`]})]})]})]}),currentQuestion&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(QuestionCard,{className:\"cyberpunk-card\",children:[currentQuestion.cyberpunkContext&&/*#__PURE__*/_jsxs(EntitySection,{children:[/*#__PURE__*/_jsx(EntityPortrait,{entity:{name:currentQuestion.cyberpunkContext.aiName,emoji:currentQuestion.cyberpunkContext.aiEmoji||\"ü§ñ\",description:currentQuestion.cyberpunkContext.description},size:\"medium\"}),/*#__PURE__*/_jsx(EntityFlavor,{children:currentQuestion.cyberpunkContext.neuralPrompt})]}),/*#__PURE__*/_jsx(QuestionText,{children:currentQuestion.question}),/*#__PURE__*/_jsx(OptionsContainer,{children:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsxs(OptionButton,{onClick:()=>!hasError&&handleSubmitAnswer(index),disabled:loading||selectedAnswer!==null,selected:selectedAnswer===index,className:selectedAnswer===index?'selected':'',children:[String.fromCharCode(65+index),\". \",option]},index))}),hasError&&/*#__PURE__*/_jsxs(ErrorContainer,{children:[/*#__PURE__*/_jsx(ErrorMessage,{children:\"Neural interference detected. Recalibrate your selection.\"}),/*#__PURE__*/_jsx(RetryButton,{onClick:handleRetryAfterError,children:\"RETRY NEURAL LINK\"})]})]})}),levelUpAnimation&&/*#__PURE__*/_jsxs(LevelUpOverlay,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.5},transition:{duration:0.8},children:[/*#__PURE__*/_jsx(LevelUpText,{children:\"\\u26A1 NEURAL UPGRADE ACHIEVED! \\u26A1\"}),/*#__PURE__*/_jsx(LevelUpSubtext,{children:\"Neural pathways enhanced\"})]}),showExplanation&&lastResult&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(ExplanationCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(ExplanationHeader,{correct:lastResult.correct,children:lastResult.correct?'‚ö° NEURAL SYNC COMPLETE!':'üî¥ NEURAL DESYNC'}),lastResult.correct&&xpGained>0&&/*#__PURE__*/_jsxs(XPGainContainer,{children:[/*#__PURE__*/_jsxs(XPText,{children:[\"+\",xpGained,\" XP\"]}),streakCount>1&&/*#__PURE__*/_jsxs(StreakText,{children:[\"\\uD83D\\uDD25 \",streakCount,\" streak!\"]}),comboMultiplier>1&&/*#__PURE__*/_jsxs(ComboText,{children:[\"\\uD83D\\uDCA5 \",comboMultiplier,\"x multiplier!\"]})]}),/*#__PURE__*/_jsx(ExplanationText,{children:lastResult.explanation}),lastResult.aiResponse&&/*#__PURE__*/_jsx(AIResponse,{children:lastResult.aiResponse})]})})]});};const GameContainer=styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;const GameHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props=>props.theme.colors.border};\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;const GameControls=styled.div`\n  display: flex;\n  gap: 1rem;\n`;const SaveButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.info}, ${props=>props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const MenuButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const GameInfo=styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;const InfoItem=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;const InfoLabel=styled.span`\n  font-size: 0.8rem;\n  color: ${props=>props.theme.colors.textSecondary};\n`;const InfoValue=styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.primary};\n`;const GameCard=styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;const QuestionCard=styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;const EntitySection=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;const EntityFlavor=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;const QuestionText=styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props=>props.theme.colors.text};\n`;const OptionsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;const OptionButton=styled.button`\n  background: ${props=>props.selected?`linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`:`linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`};\n  color: ${props=>props.theme.colors.text};\n  border: 2px solid ${props=>props.selected?props.theme.colors.primary:props.theme.colors.accent};\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props=>props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;const ErrorContainer=styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;const ErrorMessage=styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;const RetryButton=styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;const ExplanationCard=styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;const ExplanationHeader=styled.h3`\n  color: ${props=>props.correct?'#00ff88':'#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;const ExplanationText=styled.p`\n  color: ${props=>props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;const AIResponse=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props=>props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;const StatsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;const StatItem=styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.accent};\n`;const StatLabel=styled.span`\n  color: ${props=>props.theme.colors.textSecondary};\n`;const StatValue=styled.span`\n  color: ${props=>props.theme.colors.primary};\n  font-weight: bold;\n`;const ButtonContainer=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;const ActionButton=styled.button`\n  background: linear-gradient(45deg, ${props=>props.theme.colors.primary}, ${props=>props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;const Title=styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;const Subtitle=styled.p`\n  color: ${props=>props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;const LoadingSpinner=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props=>props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props=>props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;const XPGainContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props=>props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;const XPText=styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.accent};\n  font-family: ${props=>props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props=>props.theme.colors.accent};\n`;const StreakText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.warning};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;const ComboText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.secondary};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;const LevelUpOverlay=styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props=>props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props=>props.theme.colors.primary};\n`;const LevelUpText=styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;const LevelUpSubtext=styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.cyber};\n`;export default GamePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","styled","motion","useGame","useAuth","useSound","EntityPortrait","toast","jsx","_jsx","jsxs","_jsxs","GamePage","navigate","location","playSound","user","currentSession","currentQuestion","gameState","questionHistory","timeRemaining","loading","startGameSession","fetchNextQuestion","submitAnswer","endGameSession","resetGame","getGameStats","setTimeRemaining","selectedAnswer","setSelectedAnswer","showExplanation","setShowExplanation","lastResult","setLastResult","hasError","setHasError","xpGained","setXpGained","levelUpAnimation","setLevelUpAnimation","streakCount","setStreakCount","comboMultiplier","setComboMultiplier","searchParams","URLSearchParams","search","componentFilter","get","handleStartGame","interval","setInterval","prev","handleSubmitAnswer","clearInterval","result","success","answer","correct","baseXP","streakBonus","timeBonus","totalXP","Math","min","setTimeout","questionsAnswered","id","category","handleSaveGame","saveData","session","question","component","timestamp","Date","toISOString","localStorage","setItem","JSON","stringify","icon","duration","handleReturnToMenu","confirmLeave","window","confirm","handleRetryAfterError","formatTime","seconds","mins","floor","secs","toString","padStart","GameContainer","children","div","initial","opacity","y","animate","transition","GameCard","className","Title","Subtitle","LoadingSpinner","stats","StatsContainer","StatItem","StatLabel","StatValue","correctAnswers","accuracy","ButtonContainer","ActionButton","onClick","GameHeader","GameControls","SaveButton","MenuButton","GameInfo","InfoItem","InfoLabel","InfoValue","toFixed","QuestionCard","cyberpunkContext","EntitySection","entity","name","aiName","emoji","aiEmoji","description","size","EntityFlavor","neuralPrompt","QuestionText","OptionsContainer","options","map","option","index","OptionButton","disabled","selected","String","fromCharCode","ErrorContainer","ErrorMessage","RetryButton","LevelUpOverlay","scale","exit","LevelUpText","LevelUpSubtext","ExplanationCard","ExplanationHeader","XPGainContainer","XPText","StreakText","ComboText","ExplanationText","explanation","aiResponse","AIResponse","props","theme","colors","surface","border","shadows","sm","button","info","primary","md","error","span","textSecondary","backgroundDark","secondary","p","accent","text","backgroundMedium","h3","h1","fonts","display","warning","cyber"],"sources":["/Users/A1064331/Desktop/AWS/Claude/Juego_Estudio_Arq_Soluciones/client/src/pages/GamePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useGame } from '../contexts/GameContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSound } from '../contexts/SoundContext';\nimport EntityPortrait from '../components/EntityPortrait';\nimport toast from 'react-hot-toast';\n\nconst GamePage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { playSound } = useSound();\n  const { user } = useAuth();\n  const {\n    currentSession,\n    currentQuestion,\n    gameState,\n    questionHistory,\n    timeRemaining,\n    loading,\n    startGameSession,\n    fetchNextQuestion,\n    submitAnswer,\n    endGameSession,\n    resetGame,\n    getGameStats,\n    setTimeRemaining,\n  } = useGame();\n\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [showExplanation, setShowExplanation] = useState(false);\n  const [lastResult, setLastResult] = useState(null);\n  const [hasError, setHasError] = useState(false);\n  const [xpGained, setXpGained] = useState(0);\n  const [levelUpAnimation, setLevelUpAnimation] = useState(false);\n  const [streakCount, setStreakCount] = useState(0);\n  const [comboMultiplier, setComboMultiplier] = useState(1);\n\n  const searchParams = new URLSearchParams(location.search);\n  const componentFilter = searchParams.get('component');\n\n  useEffect(() => {\n    if (gameState === 'idle' && user && !currentSession) {\n      handleStartGame();\n    }\n  }, [gameState, user, currentSession]);\n\n  useEffect(() => {\n    let interval;\n    if (gameState === 'playing' && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => prev - 1);\n      }, 1000);\n    } else if (timeRemaining === 0) {\n      handleSubmitAnswer(null);\n    }\n    return () => clearInterval(interval);\n  }, [gameState, timeRemaining]);\n\n  const handleStartGame = async () => {\n    playSound('button');\n    setHasError(false);\n    const result = await startGameSession(componentFilter || 'all');\n    if (!result.success) {\n      setHasError(true);\n    }\n  };\n\n  const handleSubmitAnswer = async (answer) => {\n    if (loading || selectedAnswer !== null) return;\n    \n    playSound('button');\n    setSelectedAnswer(answer);\n    setHasError(false);\n    \n    const result = await submitAnswer(answer);\n    if (result.success) {\n      setLastResult(result.result);\n      setShowExplanation(true);\n      \n      // Calculate XP and handle streaks\n      if (result.result.correct) {\n        const baseXP = 10;\n        const streakBonus = streakCount * 2;\n        const timeBonus = timeRemaining > 60 ? 5 : 0;\n        const totalXP = (baseXP + streakBonus + timeBonus) * comboMultiplier;\n        \n        setXpGained(totalXP);\n        setStreakCount(prev => prev + 1);\n        \n        if (streakCount > 0 && streakCount % 5 === 0) {\n          setComboMultiplier(prev => Math.min(prev + 0.5, 3));\n        }\n        \n        // Level up check (mock)\n        if (totalXP > 50) {\n          setLevelUpAnimation(true);\n          setTimeout(() => setLevelUpAnimation(false), 3000);\n        }\n      } else {\n        setStreakCount(0);\n        setComboMultiplier(1);\n        setXpGained(0);\n      }\n      \n      setTimeout(() => {\n        setShowExplanation(false);\n        setSelectedAnswer(null);\n        setLastResult(null);\n        setXpGained(0);\n        \n        if (currentSession?.questionsAnswered < 65) {\n          fetchNextQuestion(currentSession.id, componentFilter ? { category: componentFilter } : {});\n        } else {\n          endGameSession();\n        }\n      }, 5000);\n    } else {\n      setHasError(true);\n      setSelectedAnswer(null);\n    }\n  };\n\n  const handleSaveGame = () => {\n    if (currentSession && currentQuestion) {\n      const saveData = {\n        session: currentSession,\n        question: currentQuestion,\n        questionHistory,\n        timeRemaining,\n        component: componentFilter,\n        timestamp: new Date().toISOString(),\n      };\n      \n      localStorage.setItem('neuroArchitectSave', JSON.stringify(saveData));\n      \n      toast.success('Neural matrix data archived!', {\n        icon: 'üíæ',\n        duration: 3000,\n      });\n      \n      playSound('button');\n    }\n  };\n\n  const handleReturnToMenu = () => {\n    playSound('button');\n    if (currentSession && gameState === 'playing') {\n      const confirmLeave = window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');\n      if (!confirmLeave) return;\n    }\n    \n    resetGame();\n    navigate('/');\n  };\n\n  const handleRetryAfterError = () => {\n    setHasError(false);\n    setSelectedAnswer(null);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (gameState === 'idle' || loading) {\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">NEURAL MATRIX INITIALIZING</Title>\n            <Subtitle>Uploading training protocols...</Subtitle>\n            <LoadingSpinner>\n              <div className=\"spinner\"></div>\n            </LoadingSpinner>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  if (gameState === 'ended') {\n    const stats = getGameStats();\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">TRAINING PROTOCOL COMPLETE</Title>\n            <Subtitle>Neural pathway enhancement achieved! Analysis:</Subtitle>\n            \n            <StatsContainer>\n              <StatItem>\n                <StatLabel>Questions Answered:</StatLabel>\n                <StatValue>{stats.questionsAnswered}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Correct Answers:</StatLabel>\n                <StatValue>{stats.correctAnswers}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Accuracy:</StatLabel>\n                <StatValue>{stats.accuracy}%</StatValue>\n              </StatItem>\n            </StatsContainer>\n            \n            <ButtonContainer>\n              <ActionButton onClick={handleReturnToMenu}>\n                Return to Main Menu\n              </ActionButton>\n              <ActionButton onClick={handleStartGame}>\n                Start New Session\n              </ActionButton>\n            </ButtonContainer>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  return (\n    <GameContainer>\n      <GameHeader>\n        <GameControls>\n          <SaveButton onClick={handleSaveGame}>\n            üíæ Save Game\n          </SaveButton>\n          <MenuButton onClick={handleReturnToMenu}>\n            üè† Return to Menu\n          </MenuButton>\n        </GameControls>\n        \n        <GameInfo>\n          <InfoItem>\n            <InfoLabel>Question:</InfoLabel>\n            <InfoValue>{currentSession?.questionsAnswered + 1}/65</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Time:</InfoLabel>\n            <InfoValue>{formatTime(timeRemaining)}</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Accuracy:</InfoLabel>\n            <InfoValue>\n              {currentSession?.questionsAnswered > 0 \n                ? ((currentSession.correctAnswers / currentSession.questionsAnswered) * 100).toFixed(1)\n                : 0}%\n            </InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Streak:</InfoLabel>\n            <InfoValue>\n              {streakCount}x {comboMultiplier > 1 && `(${comboMultiplier}x boost)`}\n            </InfoValue>\n          </InfoItem>\n        </GameInfo>\n      </GameHeader>\n\n      {currentQuestion && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <QuestionCard className=\"cyberpunk-card\">\n            {currentQuestion.cyberpunkContext && (\n              <EntitySection>\n                <EntityPortrait \n                  entity={{\n                    name: currentQuestion.cyberpunkContext.aiName,\n                    emoji: currentQuestion.cyberpunkContext.aiEmoji || \"ü§ñ\",\n                    description: currentQuestion.cyberpunkContext.description\n                  }}\n                  size=\"medium\"\n                />\n                <EntityFlavor>\n                  {currentQuestion.cyberpunkContext.neuralPrompt}\n                </EntityFlavor>\n              </EntitySection>\n            )}\n            \n            <QuestionText>{currentQuestion.question}</QuestionText>\n            \n            <OptionsContainer>\n              {currentQuestion.options.map((option, index) => (\n                <OptionButton\n                  key={index}\n                  onClick={() => !hasError && handleSubmitAnswer(index)}\n                  disabled={loading || selectedAnswer !== null}\n                  selected={selectedAnswer === index}\n                  className={selectedAnswer === index ? 'selected' : ''}\n                >\n                  {String.fromCharCode(65 + index)}. {option}\n                </OptionButton>\n              ))}\n            </OptionsContainer>\n\n            {hasError && (\n              <ErrorContainer>\n                <ErrorMessage>\n                  Neural interference detected. Recalibrate your selection.\n                </ErrorMessage>\n                <RetryButton onClick={handleRetryAfterError}>\n                  RETRY NEURAL LINK\n                </RetryButton>\n              </ErrorContainer>\n            )}\n          </QuestionCard>\n        </motion.div>\n      )}\n\n      {levelUpAnimation && (\n        <LevelUpOverlay\n          initial={{ opacity: 0, scale: 0.5 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 1.5 }}\n          transition={{ duration: 0.8 }}\n        >\n          <LevelUpText>‚ö° NEURAL UPGRADE ACHIEVED! ‚ö°</LevelUpText>\n          <LevelUpSubtext>Neural pathways enhanced</LevelUpSubtext>\n        </LevelUpOverlay>\n      )}\n      \n      {showExplanation && lastResult && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <ExplanationCard className=\"cyberpunk-card\">\n            <ExplanationHeader correct={lastResult.correct}>\n              {lastResult.correct ? '‚ö° NEURAL SYNC COMPLETE!' : 'üî¥ NEURAL DESYNC'}\n            </ExplanationHeader>\n            \n            {lastResult.correct && xpGained > 0 && (\n              <XPGainContainer>\n                <XPText>+{xpGained} XP</XPText>\n                {streakCount > 1 && <StreakText>üî• {streakCount} streak!</StreakText>}\n                {comboMultiplier > 1 && <ComboText>üí• {comboMultiplier}x multiplier!</ComboText>}\n              </XPGainContainer>\n            )}\n            \n            <ExplanationText>\n              {lastResult.explanation}\n            </ExplanationText>\n            {lastResult.aiResponse && (\n              <AIResponse>\n                {lastResult.aiResponse}\n              </AIResponse>\n            )}\n          </ExplanationCard>\n        </motion.div>\n      )}\n    </GameContainer>\n  );\n};\n\nconst GameContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst GameHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props => props.theme.colors.border};\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst GameControls = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst SaveButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.info}, ${props => props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst MenuButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst GameInfo = styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst InfoLabel = styled.span`\n  font-size: 0.8rem;\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst InfoValue = styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.primary};\n`;\n\nconst GameCard = styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;\n\nconst QuestionCard = styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;\n\nconst EntitySection = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;\n\nconst EntityFlavor = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;\n\nconst QuestionText = styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst OptionButton = styled.button`\n  background: ${props => props.selected \n    ? `linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`\n    : `linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`\n  };\n  color: ${props => props.theme.colors.text};\n  border: 2px solid ${props => props.selected \n    ? props.theme.colors.primary \n    : props.theme.colors.accent\n  };\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props => props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n\nconst ErrorContainer = styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;\n\nconst ErrorMessage = styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;\n\nconst RetryButton = styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst ExplanationCard = styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;\n\nconst ExplanationHeader = styled.h3`\n  color: ${props => props.correct ? '#00ff88' : '#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;\n\nconst ExplanationText = styled.p`\n  color: ${props => props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;\n\nconst AIResponse = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props => props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;\n\nconst StatsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;\n\nconst StatItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.accent};\n`;\n\nconst StatLabel = styled.span`\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst StatValue = styled.span`\n  color: ${props => props.theme.colors.primary};\n  font-weight: bold;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst ActionButton = styled.button`\n  background: linear-gradient(45deg, ${props => props.theme.colors.primary}, ${props => props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props => props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props => props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst XPGainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props => props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;\n\nconst XPText = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.accent};\n  font-family: ${props => props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props => props.theme.colors.accent};\n`;\n\nconst StreakText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.warning};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;\n\nconst ComboText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.secondary};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;\n\nconst LevelUpOverlay = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props => props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props => props.theme.colors.primary};\n`;\n\nconst LevelUpText = styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props => props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;\n\nconst LevelUpSubtext = styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props => props.theme.fonts.cyber};\n`;\n\nexport default GamePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}