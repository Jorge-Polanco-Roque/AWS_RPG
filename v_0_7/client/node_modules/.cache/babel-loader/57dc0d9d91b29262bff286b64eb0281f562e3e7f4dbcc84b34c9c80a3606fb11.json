{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import styled from'styled-components';import{motion}from'framer-motion';import{useGame}from'../contexts/GameContext';import{useAuth}from'../contexts/AuthContext';import{useSound}from'../contexts/SoundContext';import EntityPortrait from'../components/EntityPortrait';import CombatArena from'../components/CombatArena';import SkillBar from'../components/SkillBar';import BossManager from'../components/BossManager';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GamePage=()=>{const navigate=useNavigate();const location=useLocation();const{playSound}=useSound();const{user}=useAuth();const{currentSession,currentQuestion,gameState,questionHistory,timeRemaining,loading,playerProgress,startGameSession,fetchNextQuestion,submitAnswer,endGameSession,resetGame,getGameStats,setTimeRemaining,saveProgress}=useGame();const[selectedAnswer,setSelectedAnswer]=useState(null);const[showExplanation,setShowExplanation]=useState(false);const[lastResult,setLastResult]=useState(null);const[hasError,setHasError]=useState(false);const[xpGained,setXpGained]=useState(0);const[levelUpAnimation,setLevelUpAnimation]=useState(false);const[streakCount,setStreakCount]=useState(0);const[comboMultiplier,setComboMultiplier]=useState(1);// Sistema de combate\nconst[playerHP,setPlayerHP]=useState(100);const[enemyHP,setEnemyHP]=useState(100);const[maxPlayerHP,setMaxPlayerHP]=useState(100);const[maxEnemyHP,setMaxEnemyHP]=useState(100);const[currentEnemy,setCurrentEnemy]=useState(null);const[combatAction,setCombatAction]=useState(null);// Sistema de habilidades\nconst[activeSkills,setActiveSkills]=useState([]);const[skillEffects,setSkillEffects]=useState([]);// Sistema de jefes\nconst[currentBoss,setCurrentBoss]=useState(null);const[bossHP,setBossHP]=useState(0);const[maxBossHP,setMaxBossHP]=useState(0);const[isBossFight,setIsBossFight]=useState(false);const[bossesDefeated,setBossesDefeated]=useState(0);const searchParams=new URLSearchParams(location.search);const componentFilter=searchParams.get('component');// Definiciones de personajes y enemigos\nconst playerCharacter={name:\"NEXUS-7\",emoji:\"ü§ñ\",description:\"Advanced AI architect\"};const enemyTypes=[{name:\"VIRUS-X\",emoji:\"üëæ\",hp:80,description:\"Malware entity\"},{name:\"FIREWALL-9\",emoji:\"üî•\",hp:120,description:\"Security barrier\"},{name:\"CRYPTO-GHOST\",emoji:\"üëª\",hp:90,description:\"Encryption phantom\"},{name:\"DATA-WORM\",emoji:\"üêõ\",hp:70,description:\"Database parasite\"},{name:\"CYBER-SPIDER\",emoji:\"üï∑Ô∏è\",hp:100,description:\"Network crawler\"},{name:\"QUANTUM-BEAST\",emoji:\"‚ö°\",hp:150,description:\"Processing monster\"},{name:\"SHADOW-PROTOCOL\",emoji:\"üåë\",hp:110,description:\"Dark algorithm\"},{name:\"NEON-SENTINEL\",emoji:\"üî¥\",hp:95,description:\"Guardian program\"}];// Habilidades del jugador\nconst playerSkills=[{id:'neural_strike',name:'NEURAL STRIKE',description:'Double damage next attack',icon:'‚ö°',type:'attack',cooldown:8,effect:'double_damage'},{id:'data_shield',name:'DATA SHIELD',description:'Reduce incoming damage',icon:'üõ°Ô∏è',type:'defense',cooldown:12,effect:'damage_reduction'},{id:'system_restore',name:'SYSTEM RESTORE',description:'Restore 30 HP',icon:'üíö',type:'support',cooldown:15,effect:'heal'},{id:'neural_override',name:'NEURAL OVERRIDE',description:'Massive damage attack',icon:'üí•',type:'ultimate',cooldown:20,effect:'ultimate_damage'}];// Jefes\nconst bossTypes=[{id:'aws_overlord',name:'AWS OVERLORD',title:'Master of the Cloud',emoji:'üëë',hp:300,description:'The supreme ruler of all AWS services',type:'aws_overlord',abilities:[{name:'Service Integration',icon:'üîó'},{name:'Auto Scaling',icon:'üìà'},{name:'Global Infrastructure',icon:'üåç'},{name:'Infinite Resources',icon:'‚ôæÔ∏è'}]},{id:'lambda_lord',name:'LAMBDA LORD',title:'Serverless Tyrant',emoji:'‚ö°',hp:250,description:'Controller of all serverless functions',type:'lambda_lord',abilities:[{name:'Function Invocation',icon:'üîÑ'},{name:'Event Triggers',icon:'‚ö°'},{name:'Memory Allocation',icon:'üß†'},{name:'Timeout Control',icon:'‚è∞'}]},{id:'ec2_emperor',name:'EC2 EMPEROR',title:'Instance Overlord',emoji:'üè∞',hp:350,description:'Master of all compute instances',type:'ec2_emperor',abilities:[{name:'Instance Launch',icon:'üöÄ'},{name:'Load Balancing',icon:'‚öñÔ∏è'},{name:'Auto Scaling',icon:'üìä'},{name:'Spot Instances',icon:'üí∏'}]},{id:'s3_sovereign',name:'S3 SOVEREIGN',title:'Storage Supreme',emoji:'üóÑÔ∏è',hp:280,description:'Ruler of all object storage',type:'s3_sovereign',abilities:[{name:'Bucket Management',icon:'ü™£'},{name:'Versioning',icon:'üìö'},{name:'Lifecycle Policies',icon:'üîÑ'},{name:'Cross-Region Replication',icon:'üåê'}]}];useEffect(()=>{if(gameState==='idle'&&user&&!currentSession){handleStartGame();}},[gameState,user,currentSession]);useEffect(()=>{// Generar primer enemigo cuando comience el juego\nif(gameState==='playing'&&!currentEnemy&&!isBossFight){generateRandomEnemy();}},[gameState,currentEnemy,isBossFight]);useEffect(()=>{// Inicializar habilidades del jugador\nif(gameState==='playing'&&activeSkills.length===0){setActiveSkills(playerSkills);}},[gameState,activeSkills,playerSkills]);useEffect(()=>{let interval;if(gameState==='playing'&&timeRemaining>0){interval=setInterval(()=>{setTimeRemaining(prev=>prev-1);},1000);}else if(timeRemaining===0){handleSubmitAnswer(null);}return()=>clearInterval(interval);},[gameState,timeRemaining]);const handleStartGame=async()=>{playSound('button');setHasError(false);const result=await startGameSession(componentFilter||'all');if(!result.success){setHasError(true);}};const handleSubmitAnswer=async answer=>{if(loading||selectedAnswer!==null)return;playSound('button');setSelectedAnswer(answer);setHasError(false);const result=await submitAnswer(answer);if(result.success){setLastResult(result.result);setShowExplanation(true);// Calculate XP and handle streaks\nif(result.result.correct){const baseXP=10;const streakBonus=streakCount*2;const timeBonus=timeRemaining>60?5:0;const totalXP=(baseXP+streakBonus+timeBonus)*comboMultiplier;setXpGained(totalXP);setStreakCount(prev=>prev+1);if(streakCount>0&&streakCount%5===0){setComboMultiplier(prev=>Math.min(prev+0.5,3));}// Level up check (mock)\nif(totalXP>50){setLevelUpAnimation(true);setTimeout(()=>setLevelUpAnimation(false),3000);}// Combate: Jugador ataca\nhandleCombatDamage(true);}else{setStreakCount(0);setComboMultiplier(1);setXpGained(0);// Combate: Enemigo ataca\nhandleCombatDamage(false);}setTimeout(()=>{setShowExplanation(false);setSelectedAnswer(null);setLastResult(null);setXpGained(0);if((currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)<65){fetchNextQuestion(currentSession.id,componentFilter?{category:componentFilter}:{});}else{endGameSession();}},5000);}else{setHasError(true);setSelectedAnswer(null);}};const handleSaveGame=async()=>{if(currentSession&&currentQuestion){// Save session data locally for quick resume\nconst sessionData={session:currentSession,question:currentQuestion,questionHistory,timeRemaining,component:componentFilter,timestamp:new Date().toISOString()};localStorage.setItem('neuroArchitectSave',JSON.stringify(sessionData));// Save progress to backend if user is authenticated\nif(playerProgress){const gameStats=getGameStats();const progressData={...playerProgress,totalQuestions:(gameStats===null||gameStats===void 0?void 0:gameStats.questionsAnswered)||playerProgress.totalQuestions,correctAnswers:(gameStats===null||gameStats===void 0?void 0:gameStats.correctAnswers)||playerProgress.correctAnswers,lastSaveTimestamp:new Date().toISOString(),currentSession:{domain:currentSession.domain,questionsAnswered:currentSession.questionsAnswered,correctAnswers:currentSession.correctAnswers,startTime:currentSession.startTime}};await saveProgress(progressData);}playSound('button');}};const handleReturnToMenu=()=>{playSound('button');if(currentSession&&gameState==='playing'){const confirmLeave=window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');if(!confirmLeave)return;}resetGame();navigate('/');};const handleRetryAfterError=()=>{setHasError(false);setSelectedAnswer(null);};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return`${mins}:${secs.toString().padStart(2,'0')}`;};// Funciones de combate\nconst generateRandomEnemy=()=>{const randomEnemy=enemyTypes[Math.floor(Math.random()*enemyTypes.length)];const enemy={...randomEnemy};setCurrentEnemy(enemy);setEnemyHP(enemy.hp);setMaxEnemyHP(enemy.hp);return enemy;};const handleCombatDamage=isPlayerCorrect=>{if(isPlayerCorrect){// Verificar si hay bonus de doble da√±o\nconst hasDoubleAttack=skillEffects.some(effect=>effect.effect==='double_damage');// Calcular da√±o base\nlet damage=Math.floor(Math.random()*25)+15;// 15-40 damage\nif(hasDoubleAttack){damage*=2;// Remover efecto de doble da√±o\nsetSkillEffects(prev=>prev.filter(effect=>effect.effect!=='double_damage'));}if(isBossFight){// Ataque contra jefe\nconst newBossHP=Math.max(0,bossHP-damage);setBossHP(newBossHP);setCombatAction({type:'player_attack',damage:damage,bossHP:newBossHP});// Si el jefe es derrotado\nif(newBossHP<=0){setTimeout(()=>{handleBossDefeat();},2500);}}else{// Ataque contra enemigo normal\nconst newEnemyHP=Math.max(0,enemyHP-damage);setEnemyHP(newEnemyHP);setCombatAction({type:'player_attack',damage:damage,enemyHP:newEnemyHP});// Si el enemigo es derrotado\nif(newEnemyHP<=0){setTimeout(()=>{checkBossSpawn();if(!isBossFight){generateRandomEnemy();}},2500);}}}else{// Enemigo/Jefe ataca al jugador\nlet damage=Math.floor(Math.random()*20)+10;// 10-30 damage\n// Verificar si hay escudo activo\nconst hasShield=skillEffects.some(effect=>effect.effect==='damage_reduction');if(hasShield){damage=Math.floor(damage*0.5);// 50% reducci√≥n\n// Remover efecto de escudo\nsetSkillEffects(prev=>prev.filter(effect=>effect.effect!=='damage_reduction'));}const newPlayerHP=Math.max(0,playerHP-damage);setPlayerHP(newPlayerHP);setCombatAction({type:'enemy_attack',damage:damage,playerHP:newPlayerHP});// Si el jugador muere, reiniciar combate\nif(newPlayerHP<=0){setTimeout(()=>{setPlayerHP(maxPlayerHP);if(isBossFight){setIsBossFight(false);setCurrentBoss(null);}generateRandomEnemy();},3000);}}// Limpiar acci√≥n de combate despu√©s de un tiempo\nsetTimeout(()=>{setCombatAction(null);},2000);};const handleCombatComplete=result=>{if(result==='victory'){// Bonus XP por derrotar enemigo\nsetXpGained(prev=>prev+25);}else if(result==='defeat'){// Penalty por perder\nsetStreakCount(0);setComboMultiplier(1);}};// Funciones de habilidades\nconst handleSkillUse=skill=>{setSkillEffects(prev=>[...prev,skill]);// Aplicar efecto inmediatamente\nswitch(skill.effect){case'heal':setPlayerHP(prev=>Math.min(maxPlayerHP,prev+30));break;case'double_damage':// Se aplica en el pr√≥ximo ataque\nbreak;case'damage_reduction':// Se aplica en el pr√≥ximo ataque recibido\nbreak;case'ultimate_damage':// Da√±o masivo inmediato\nif(isBossFight){const damage=Math.floor(Math.random()*60)+40;// 40-100 damage\nsetBossHP(prev=>Math.max(0,prev-damage));}else{const damage=Math.floor(Math.random()*50)+35;// 35-85 damage\nsetEnemyHP(prev=>Math.max(0,prev-damage));}break;}// Remover efecto despu√©s de un tiempo\nsetTimeout(()=>{setSkillEffects(prev=>prev.filter(s=>s.id!==skill.id));},10000);};// Funciones de jefes\nconst spawnBoss=()=>{const boss=bossTypes[bossesDefeated%bossTypes.length];setCurrentBoss(boss);setBossHP(boss.hp);setMaxBossHP(boss.hp);setIsBossFight(true);setCurrentEnemy(null);// Limpiar enemigo normal\n};const handleBossAttack=attack=>{// El jefe ataca al jugador\nlet damage=attack.damage;// Verificar si hay escudo activo\nconst hasShield=skillEffects.some(effect=>effect.effect==='damage_reduction');if(hasShield){damage=Math.floor(damage*0.5);// 50% reducci√≥n\n}setPlayerHP(prev=>Math.max(0,prev-damage));// Aplicar efectos especiales del ataque\nswitch(attack.effect){case'Slow down timer':setTimeRemaining(prev=>Math.max(0,prev-10));break;case'Disable one skill':// Implementar desactivaci√≥n de habilidad\nbreak;case'Reduce XP gain':setComboMultiplier(prev=>Math.max(0.5,prev-0.5));break;}};const handleBossDefeat=()=>{setBossesDefeated(prev=>prev+1);setIsBossFight(false);setCurrentBoss(null);setXpGained(prev=>prev+100);// Gran bonus por derrotar jefe\n// Generar nuevo enemigo normal\nsetTimeout(()=>{generateRandomEnemy();},2000);};// Modificar el sistema de combate para incluir jefes\nconst checkBossSpawn=()=>{// Spawn boss cada 10 enemigos derrotados\nif(currentSession&&currentSession.correctAnswers>0&&currentSession.correctAnswers%10===0&&!isBossFight){spawnBoss();}};if(gameState==='idle'||loading){return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"NEURAL MATRIX INITIALIZING\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Uploading training protocols...\"}),/*#__PURE__*/_jsx(LoadingSpinner,{children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})})]})})});}if(gameState==='ended'){const stats=getGameStats();return/*#__PURE__*/_jsx(GameContainer,{children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:/*#__PURE__*/_jsxs(GameCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(Title,{className:\"cyberpunk-title\",children:\"TRAINING PROTOCOL COMPLETE\"}),/*#__PURE__*/_jsx(Subtitle,{children:\"Neural pathway enhancement achieved! Analysis:\"}),/*#__PURE__*/_jsxs(StatsContainer,{children:[/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Questions Answered:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.questionsAnswered})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Correct Answers:\"}),/*#__PURE__*/_jsx(StatValue,{children:stats.correctAnswers})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(StatLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(StatValue,{children:[stats.accuracy,\"%\"]})]})]}),/*#__PURE__*/_jsxs(ButtonContainer,{children:[/*#__PURE__*/_jsx(ActionButton,{onClick:handleReturnToMenu,children:\"Return to Main Menu\"}),/*#__PURE__*/_jsx(ActionButton,{onClick:handleStartGame,children:\"Start New Session\"})]})]})})});}return/*#__PURE__*/_jsxs(GameContainer,{children:[/*#__PURE__*/_jsxs(GameHeader,{children:[/*#__PURE__*/_jsxs(GameControls,{children:[/*#__PURE__*/_jsx(SaveButton,{onClick:handleSaveGame,children:\"\\uD83D\\uDCBE Save Game\"}),/*#__PURE__*/_jsx(MenuButton,{onClick:handleReturnToMenu,children:\"\\uD83C\\uDFE0 Return to Menu\"})]}),/*#__PURE__*/_jsxs(GameInfo,{children:[/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Question:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)+1,\"/65\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Time:\"}),/*#__PURE__*/_jsx(InfoValue,{children:formatTime(timeRemaining)})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Accuracy:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)>0?(currentSession.correctAnswers/currentSession.questionsAnswered*100).toFixed(1):0,\"%\"]})]}),/*#__PURE__*/_jsxs(InfoItem,{children:[/*#__PURE__*/_jsx(InfoLabel,{children:\"Streak:\"}),/*#__PURE__*/_jsxs(InfoValue,{children:[streakCount,\"x \",comboMultiplier>1&&`(${comboMultiplier}x boost)`]})]})]})]}),gameState==='playing'&&isBossFight&&currentBoss&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsx(BossManager,{currentBoss:currentBoss,bossHP:bossHP,maxBossHP:maxBossHP,onBossDefeat:handleBossDefeat,onBossAttack:handleBossAttack,questionCount:(currentSession===null||currentSession===void 0?void 0:currentSession.questionsAnswered)||0})}),gameState==='playing'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsx(CombatArena,{playerCharacter:playerCharacter,enemyCharacter:isBossFight?currentBoss:currentEnemy,playerHP:playerHP,enemyHP:isBossFight?bossHP:enemyHP,maxPlayerHP:maxPlayerHP,maxEnemyHP:isBossFight?maxBossHP:maxEnemyHP,combatAction:combatAction,onCombatComplete:handleCombatComplete})}),gameState==='playing'&&activeSkills.length>0&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.3},children:/*#__PURE__*/_jsx(SkillBar,{skills:activeSkills,onSkillUse:handleSkillUse,disabled:loading||selectedAnswer!==null})}),currentQuestion&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(QuestionCard,{className:\"cyberpunk-card\",children:[currentQuestion.cyberpunkContext&&/*#__PURE__*/_jsxs(EntitySection,{children:[/*#__PURE__*/_jsx(EntityPortrait,{entity:{name:currentQuestion.cyberpunkContext.aiName,emoji:currentQuestion.cyberpunkContext.aiEmoji||\"ü§ñ\",description:currentQuestion.cyberpunkContext.description},size:\"medium\"}),/*#__PURE__*/_jsx(EntityFlavor,{children:currentQuestion.cyberpunkContext.neuralPrompt})]}),/*#__PURE__*/_jsx(QuestionText,{children:currentQuestion.question}),/*#__PURE__*/_jsx(OptionsContainer,{children:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsxs(OptionButton,{onClick:()=>!hasError&&handleSubmitAnswer(index),disabled:loading||selectedAnswer!==null,selected:selectedAnswer===index,className:selectedAnswer===index?'selected':'',children:[String.fromCharCode(65+index),\". \",option]},index))}),hasError&&/*#__PURE__*/_jsxs(ErrorContainer,{children:[/*#__PURE__*/_jsx(ErrorMessage,{children:\"Neural interference detected. Recalibrate your selection.\"}),/*#__PURE__*/_jsx(RetryButton,{onClick:handleRetryAfterError,children:\"RETRY NEURAL LINK\"})]})]})}),levelUpAnimation&&/*#__PURE__*/_jsxs(LevelUpOverlay,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.5},transition:{duration:0.8},children:[/*#__PURE__*/_jsx(LevelUpText,{children:\"\\u26A1 NEURAL UPGRADE ACHIEVED! \\u26A1\"}),/*#__PURE__*/_jsx(LevelUpSubtext,{children:\"Neural pathways enhanced\"})]}),showExplanation&&lastResult&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.6},children:/*#__PURE__*/_jsxs(ExplanationCard,{className:\"cyberpunk-card\",children:[/*#__PURE__*/_jsx(ExplanationHeader,{correct:lastResult.correct,children:lastResult.correct?'‚ö° NEURAL SYNC COMPLETE!':'üî¥ NEURAL DESYNC'}),lastResult.correct&&xpGained>0&&/*#__PURE__*/_jsxs(XPGainContainer,{children:[/*#__PURE__*/_jsxs(XPText,{children:[\"+\",xpGained,\" XP\"]}),streakCount>1&&/*#__PURE__*/_jsxs(StreakText,{children:[\"\\uD83D\\uDD25 \",streakCount,\" streak!\"]}),comboMultiplier>1&&/*#__PURE__*/_jsxs(ComboText,{children:[\"\\uD83D\\uDCA5 \",comboMultiplier,\"x multiplier!\"]})]}),/*#__PURE__*/_jsx(ExplanationText,{children:lastResult.explanation}),lastResult.aiResponse&&/*#__PURE__*/_jsx(AIResponse,{children:lastResult.aiResponse})]})})]});};const GameContainer=styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;const GameHeader=styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props=>props.theme.colors.border};\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;const GameControls=styled.div`\n  display: flex;\n  gap: 1rem;\n`;const SaveButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.info}, ${props=>props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const MenuButton=styled.button`\n  background: linear-gradient(135deg, ${props=>props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props=>props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props=>props.theme.shadows.md};\n  }\n`;const GameInfo=styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;const InfoItem=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;const InfoLabel=styled.span`\n  font-size: 0.8rem;\n  color: ${props=>props.theme.colors.textSecondary};\n`;const InfoValue=styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.primary};\n`;const GameCard=styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;const QuestionCard=styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;const EntitySection=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;const EntityFlavor=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;const QuestionText=styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props=>props.theme.colors.text};\n`;const OptionsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;const OptionButton=styled.button`\n  background: ${props=>props.selected?`linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`:`linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`};\n  color: ${props=>props.theme.colors.text};\n  border: 2px solid ${props=>props.selected?props.theme.colors.primary:props.theme.colors.accent};\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props=>props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;const ErrorContainer=styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;const ErrorMessage=styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;const RetryButton=styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;const ExplanationCard=styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;const ExplanationHeader=styled.h3`\n  color: ${props=>props.correct?'#00ff88':'#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;const ExplanationText=styled.p`\n  color: ${props=>props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;const AIResponse=styled.p`\n  color: ${props=>props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props=>props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;const StatsContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;const StatItem=styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props=>props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props=>props.theme.colors.accent};\n`;const StatLabel=styled.span`\n  color: ${props=>props.theme.colors.textSecondary};\n`;const StatValue=styled.span`\n  color: ${props=>props.theme.colors.primary};\n  font-weight: bold;\n`;const ButtonContainer=styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;const ActionButton=styled.button`\n  background: linear-gradient(45deg, ${props=>props.theme.colors.primary}, ${props=>props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;const Title=styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;const Subtitle=styled.p`\n  color: ${props=>props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;const LoadingSpinner=styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props=>props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props=>props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;const XPGainContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props=>props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;const XPText=styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props=>props.theme.colors.accent};\n  font-family: ${props=>props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props=>props.theme.colors.accent};\n`;const StreakText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.warning};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;const ComboText=styled.div`\n  font-size: 1rem;\n  color: ${props=>props.theme.colors.secondary};\n  font-family: ${props=>props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;const LevelUpOverlay=styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props=>props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props=>props.theme.colors.primary};\n`;const LevelUpText=styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;const LevelUpSubtext=styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props=>props.theme.fonts.cyber};\n`;export default GamePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","styled","motion","useGame","useAuth","useSound","EntityPortrait","CombatArena","SkillBar","BossManager","toast","jsx","_jsx","jsxs","_jsxs","GamePage","navigate","location","playSound","user","currentSession","currentQuestion","gameState","questionHistory","timeRemaining","loading","playerProgress","startGameSession","fetchNextQuestion","submitAnswer","endGameSession","resetGame","getGameStats","setTimeRemaining","saveProgress","selectedAnswer","setSelectedAnswer","showExplanation","setShowExplanation","lastResult","setLastResult","hasError","setHasError","xpGained","setXpGained","levelUpAnimation","setLevelUpAnimation","streakCount","setStreakCount","comboMultiplier","setComboMultiplier","playerHP","setPlayerHP","enemyHP","setEnemyHP","maxPlayerHP","setMaxPlayerHP","maxEnemyHP","setMaxEnemyHP","currentEnemy","setCurrentEnemy","combatAction","setCombatAction","activeSkills","setActiveSkills","skillEffects","setSkillEffects","currentBoss","setCurrentBoss","bossHP","setBossHP","maxBossHP","setMaxBossHP","isBossFight","setIsBossFight","bossesDefeated","setBossesDefeated","searchParams","URLSearchParams","search","componentFilter","get","playerCharacter","name","emoji","description","enemyTypes","hp","playerSkills","id","icon","type","cooldown","effect","bossTypes","title","abilities","handleStartGame","generateRandomEnemy","length","interval","setInterval","prev","handleSubmitAnswer","clearInterval","result","success","answer","correct","baseXP","streakBonus","timeBonus","totalXP","Math","min","setTimeout","handleCombatDamage","questionsAnswered","category","handleSaveGame","sessionData","session","question","component","timestamp","Date","toISOString","localStorage","setItem","JSON","stringify","gameStats","progressData","totalQuestions","correctAnswers","lastSaveTimestamp","domain","startTime","handleReturnToMenu","confirmLeave","window","confirm","handleRetryAfterError","formatTime","seconds","mins","floor","secs","toString","padStart","randomEnemy","random","enemy","isPlayerCorrect","hasDoubleAttack","some","damage","filter","newBossHP","max","handleBossDefeat","newEnemyHP","checkBossSpawn","hasShield","newPlayerHP","handleCombatComplete","handleSkillUse","skill","s","spawnBoss","boss","handleBossAttack","attack","GameContainer","children","div","initial","opacity","y","animate","transition","duration","GameCard","className","Title","Subtitle","LoadingSpinner","stats","StatsContainer","StatItem","StatLabel","StatValue","accuracy","ButtonContainer","ActionButton","onClick","GameHeader","GameControls","SaveButton","MenuButton","GameInfo","InfoItem","InfoLabel","InfoValue","toFixed","onBossDefeat","onBossAttack","questionCount","enemyCharacter","onCombatComplete","delay","skills","onSkillUse","disabled","QuestionCard","cyberpunkContext","EntitySection","entity","aiName","aiEmoji","size","EntityFlavor","neuralPrompt","QuestionText","OptionsContainer","options","map","option","index","OptionButton","selected","String","fromCharCode","ErrorContainer","ErrorMessage","RetryButton","LevelUpOverlay","scale","exit","LevelUpText","LevelUpSubtext","ExplanationCard","ExplanationHeader","XPGainContainer","XPText","StreakText","ComboText","ExplanationText","explanation","aiResponse","AIResponse","props","theme","colors","surface","border","shadows","sm","button","info","primary","md","error","span","textSecondary","backgroundDark","secondary","p","accent","text","backgroundMedium","h3","h1","fonts","display","warning","cyber"],"sources":["/Users/A1064331/Desktop/AWS/Claude/Juego_Estudio_Arq_Soluciones/client/src/pages/GamePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { motion } from 'framer-motion';\nimport { useGame } from '../contexts/GameContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useSound } from '../contexts/SoundContext';\nimport EntityPortrait from '../components/EntityPortrait';\nimport CombatArena from '../components/CombatArena';\nimport SkillBar from '../components/SkillBar';\nimport BossManager from '../components/BossManager';\nimport toast from 'react-hot-toast';\n\nconst GamePage = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { playSound } = useSound();\n  const { user } = useAuth();\n  const {\n    currentSession,\n    currentQuestion,\n    gameState,\n    questionHistory,\n    timeRemaining,\n    loading,\n    playerProgress,\n    startGameSession,\n    fetchNextQuestion,\n    submitAnswer,\n    endGameSession,\n    resetGame,\n    getGameStats,\n    setTimeRemaining,\n    saveProgress,\n  } = useGame();\n\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [showExplanation, setShowExplanation] = useState(false);\n  const [lastResult, setLastResult] = useState(null);\n  const [hasError, setHasError] = useState(false);\n  const [xpGained, setXpGained] = useState(0);\n  const [levelUpAnimation, setLevelUpAnimation] = useState(false);\n  const [streakCount, setStreakCount] = useState(0);\n  const [comboMultiplier, setComboMultiplier] = useState(1);\n  \n  // Sistema de combate\n  const [playerHP, setPlayerHP] = useState(100);\n  const [enemyHP, setEnemyHP] = useState(100);\n  const [maxPlayerHP, setMaxPlayerHP] = useState(100);\n  const [maxEnemyHP, setMaxEnemyHP] = useState(100);\n  const [currentEnemy, setCurrentEnemy] = useState(null);\n  const [combatAction, setCombatAction] = useState(null);\n  \n  // Sistema de habilidades\n  const [activeSkills, setActiveSkills] = useState([]);\n  const [skillEffects, setSkillEffects] = useState([]);\n  \n  // Sistema de jefes\n  const [currentBoss, setCurrentBoss] = useState(null);\n  const [bossHP, setBossHP] = useState(0);\n  const [maxBossHP, setMaxBossHP] = useState(0);\n  const [isBossFight, setIsBossFight] = useState(false);\n  const [bossesDefeated, setBossesDefeated] = useState(0);\n\n  const searchParams = new URLSearchParams(location.search);\n  const componentFilter = searchParams.get('component');\n\n  // Definiciones de personajes y enemigos\n  const playerCharacter = {\n    name: \"NEXUS-7\",\n    emoji: \"ü§ñ\",\n    description: \"Advanced AI architect\"\n  };\n\n  const enemyTypes = [\n    { name: \"VIRUS-X\", emoji: \"üëæ\", hp: 80, description: \"Malware entity\" },\n    { name: \"FIREWALL-9\", emoji: \"üî•\", hp: 120, description: \"Security barrier\" },\n    { name: \"CRYPTO-GHOST\", emoji: \"üëª\", hp: 90, description: \"Encryption phantom\" },\n    { name: \"DATA-WORM\", emoji: \"üêõ\", hp: 70, description: \"Database parasite\" },\n    { name: \"CYBER-SPIDER\", emoji: \"üï∑Ô∏è\", hp: 100, description: \"Network crawler\" },\n    { name: \"QUANTUM-BEAST\", emoji: \"‚ö°\", hp: 150, description: \"Processing monster\" },\n    { name: \"SHADOW-PROTOCOL\", emoji: \"üåë\", hp: 110, description: \"Dark algorithm\" },\n    { name: \"NEON-SENTINEL\", emoji: \"üî¥\", hp: 95, description: \"Guardian program\" }\n  ];\n\n  // Habilidades del jugador\n  const playerSkills = [\n    {\n      id: 'neural_strike',\n      name: 'NEURAL STRIKE',\n      description: 'Double damage next attack',\n      icon: '‚ö°',\n      type: 'attack',\n      cooldown: 8,\n      effect: 'double_damage'\n    },\n    {\n      id: 'data_shield',\n      name: 'DATA SHIELD',\n      description: 'Reduce incoming damage',\n      icon: 'üõ°Ô∏è',\n      type: 'defense',\n      cooldown: 12,\n      effect: 'damage_reduction'\n    },\n    {\n      id: 'system_restore',\n      name: 'SYSTEM RESTORE',\n      description: 'Restore 30 HP',\n      icon: 'üíö',\n      type: 'support',\n      cooldown: 15,\n      effect: 'heal'\n    },\n    {\n      id: 'neural_override',\n      name: 'NEURAL OVERRIDE',\n      description: 'Massive damage attack',\n      icon: 'üí•',\n      type: 'ultimate',\n      cooldown: 20,\n      effect: 'ultimate_damage'\n    }\n  ];\n\n  // Jefes\n  const bossTypes = [\n    {\n      id: 'aws_overlord',\n      name: 'AWS OVERLORD',\n      title: 'Master of the Cloud',\n      emoji: 'üëë',\n      hp: 300,\n      description: 'The supreme ruler of all AWS services',\n      type: 'aws_overlord',\n      abilities: [\n        { name: 'Service Integration', icon: 'üîó' },\n        { name: 'Auto Scaling', icon: 'üìà' },\n        { name: 'Global Infrastructure', icon: 'üåç' },\n        { name: 'Infinite Resources', icon: '‚ôæÔ∏è' }\n      ]\n    },\n    {\n      id: 'lambda_lord',\n      name: 'LAMBDA LORD',\n      title: 'Serverless Tyrant',\n      emoji: '‚ö°',\n      hp: 250,\n      description: 'Controller of all serverless functions',\n      type: 'lambda_lord',\n      abilities: [\n        { name: 'Function Invocation', icon: 'üîÑ' },\n        { name: 'Event Triggers', icon: '‚ö°' },\n        { name: 'Memory Allocation', icon: 'üß†' },\n        { name: 'Timeout Control', icon: '‚è∞' }\n      ]\n    },\n    {\n      id: 'ec2_emperor',\n      name: 'EC2 EMPEROR',\n      title: 'Instance Overlord',\n      emoji: 'üè∞',\n      hp: 350,\n      description: 'Master of all compute instances',\n      type: 'ec2_emperor',\n      abilities: [\n        { name: 'Instance Launch', icon: 'üöÄ' },\n        { name: 'Load Balancing', icon: '‚öñÔ∏è' },\n        { name: 'Auto Scaling', icon: 'üìä' },\n        { name: 'Spot Instances', icon: 'üí∏' }\n      ]\n    },\n    {\n      id: 's3_sovereign',\n      name: 'S3 SOVEREIGN',\n      title: 'Storage Supreme',\n      emoji: 'üóÑÔ∏è',\n      hp: 280,\n      description: 'Ruler of all object storage',\n      type: 's3_sovereign',\n      abilities: [\n        { name: 'Bucket Management', icon: 'ü™£' },\n        { name: 'Versioning', icon: 'üìö' },\n        { name: 'Lifecycle Policies', icon: 'üîÑ' },\n        { name: 'Cross-Region Replication', icon: 'üåê' }\n      ]\n    }\n  ];\n\n  useEffect(() => {\n    if (gameState === 'idle' && user && !currentSession) {\n      handleStartGame();\n    }\n  }, [gameState, user, currentSession]);\n\n  useEffect(() => {\n    // Generar primer enemigo cuando comience el juego\n    if (gameState === 'playing' && !currentEnemy && !isBossFight) {\n      generateRandomEnemy();\n    }\n  }, [gameState, currentEnemy, isBossFight]);\n\n  useEffect(() => {\n    // Inicializar habilidades del jugador\n    if (gameState === 'playing' && activeSkills.length === 0) {\n      setActiveSkills(playerSkills);\n    }\n  }, [gameState, activeSkills, playerSkills]);\n\n  useEffect(() => {\n    let interval;\n    if (gameState === 'playing' && timeRemaining > 0) {\n      interval = setInterval(() => {\n        setTimeRemaining(prev => prev - 1);\n      }, 1000);\n    } else if (timeRemaining === 0) {\n      handleSubmitAnswer(null);\n    }\n    return () => clearInterval(interval);\n  }, [gameState, timeRemaining]);\n\n  const handleStartGame = async () => {\n    playSound('button');\n    setHasError(false);\n    const result = await startGameSession(componentFilter || 'all');\n    if (!result.success) {\n      setHasError(true);\n    }\n  };\n\n  const handleSubmitAnswer = async (answer) => {\n    if (loading || selectedAnswer !== null) return;\n    \n    playSound('button');\n    setSelectedAnswer(answer);\n    setHasError(false);\n    \n    const result = await submitAnswer(answer);\n    if (result.success) {\n      setLastResult(result.result);\n      setShowExplanation(true);\n      \n      // Calculate XP and handle streaks\n      if (result.result.correct) {\n        const baseXP = 10;\n        const streakBonus = streakCount * 2;\n        const timeBonus = timeRemaining > 60 ? 5 : 0;\n        const totalXP = (baseXP + streakBonus + timeBonus) * comboMultiplier;\n        \n        setXpGained(totalXP);\n        setStreakCount(prev => prev + 1);\n        \n        if (streakCount > 0 && streakCount % 5 === 0) {\n          setComboMultiplier(prev => Math.min(prev + 0.5, 3));\n        }\n        \n        // Level up check (mock)\n        if (totalXP > 50) {\n          setLevelUpAnimation(true);\n          setTimeout(() => setLevelUpAnimation(false), 3000);\n        }\n\n        // Combate: Jugador ataca\n        handleCombatDamage(true);\n      } else {\n        setStreakCount(0);\n        setComboMultiplier(1);\n        setXpGained(0);\n        \n        // Combate: Enemigo ataca\n        handleCombatDamage(false);\n      }\n      \n      setTimeout(() => {\n        setShowExplanation(false);\n        setSelectedAnswer(null);\n        setLastResult(null);\n        setXpGained(0);\n        \n        if (currentSession?.questionsAnswered < 65) {\n          fetchNextQuestion(currentSession.id, componentFilter ? { category: componentFilter } : {});\n        } else {\n          endGameSession();\n        }\n      }, 5000);\n    } else {\n      setHasError(true);\n      setSelectedAnswer(null);\n    }\n  };\n\n  const handleSaveGame = async () => {\n    if (currentSession && currentQuestion) {\n      // Save session data locally for quick resume\n      const sessionData = {\n        session: currentSession,\n        question: currentQuestion,\n        questionHistory,\n        timeRemaining,\n        component: componentFilter,\n        timestamp: new Date().toISOString(),\n      };\n      \n      localStorage.setItem('neuroArchitectSave', JSON.stringify(sessionData));\n      \n      // Save progress to backend if user is authenticated\n      if (playerProgress) {\n        const gameStats = getGameStats();\n        const progressData = {\n          ...playerProgress,\n          totalQuestions: gameStats?.questionsAnswered || playerProgress.totalQuestions,\n          correctAnswers: gameStats?.correctAnswers || playerProgress.correctAnswers,\n          lastSaveTimestamp: new Date().toISOString(),\n          currentSession: {\n            domain: currentSession.domain,\n            questionsAnswered: currentSession.questionsAnswered,\n            correctAnswers: currentSession.correctAnswers,\n            startTime: currentSession.startTime\n          }\n        };\n        \n        await saveProgress(progressData);\n      }\n      \n      playSound('button');\n    }\n  };\n\n  const handleReturnToMenu = () => {\n    playSound('button');\n    if (currentSession && gameState === 'playing') {\n      const confirmLeave = window.confirm('Are you sure you want to disconnect from the neural matrix? Progress will be lost unless saved.');\n      if (!confirmLeave) return;\n    }\n    \n    resetGame();\n    navigate('/');\n  };\n\n  const handleRetryAfterError = () => {\n    setHasError(false);\n    setSelectedAnswer(null);\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Funciones de combate\n  const generateRandomEnemy = () => {\n    const randomEnemy = enemyTypes[Math.floor(Math.random() * enemyTypes.length)];\n    const enemy = { ...randomEnemy };\n    setCurrentEnemy(enemy);\n    setEnemyHP(enemy.hp);\n    setMaxEnemyHP(enemy.hp);\n    return enemy;\n  };\n\n  const handleCombatDamage = (isPlayerCorrect) => {\n    if (isPlayerCorrect) {\n      // Verificar si hay bonus de doble da√±o\n      const hasDoubleAttack = skillEffects.some(effect => effect.effect === 'double_damage');\n      \n      // Calcular da√±o base\n      let damage = Math.floor(Math.random() * 25) + 15; // 15-40 damage\n      if (hasDoubleAttack) {\n        damage *= 2;\n        // Remover efecto de doble da√±o\n        setSkillEffects(prev => prev.filter(effect => effect.effect !== 'double_damage'));\n      }\n      \n      if (isBossFight) {\n        // Ataque contra jefe\n        const newBossHP = Math.max(0, bossHP - damage);\n        setBossHP(newBossHP);\n        \n        setCombatAction({\n          type: 'player_attack',\n          damage: damage,\n          bossHP: newBossHP\n        });\n\n        // Si el jefe es derrotado\n        if (newBossHP <= 0) {\n          setTimeout(() => {\n            handleBossDefeat();\n          }, 2500);\n        }\n      } else {\n        // Ataque contra enemigo normal\n        const newEnemyHP = Math.max(0, enemyHP - damage);\n        setEnemyHP(newEnemyHP);\n        \n        setCombatAction({\n          type: 'player_attack',\n          damage: damage,\n          enemyHP: newEnemyHP\n        });\n\n        // Si el enemigo es derrotado\n        if (newEnemyHP <= 0) {\n          setTimeout(() => {\n            checkBossSpawn();\n            if (!isBossFight) {\n              generateRandomEnemy();\n            }\n          }, 2500);\n        }\n      }\n    } else {\n      // Enemigo/Jefe ataca al jugador\n      let damage = Math.floor(Math.random() * 20) + 10; // 10-30 damage\n      \n      // Verificar si hay escudo activo\n      const hasShield = skillEffects.some(effect => effect.effect === 'damage_reduction');\n      if (hasShield) {\n        damage = Math.floor(damage * 0.5); // 50% reducci√≥n\n        // Remover efecto de escudo\n        setSkillEffects(prev => prev.filter(effect => effect.effect !== 'damage_reduction'));\n      }\n      \n      const newPlayerHP = Math.max(0, playerHP - damage);\n      setPlayerHP(newPlayerHP);\n      \n      setCombatAction({\n        type: 'enemy_attack',\n        damage: damage,\n        playerHP: newPlayerHP\n      });\n\n      // Si el jugador muere, reiniciar combate\n      if (newPlayerHP <= 0) {\n        setTimeout(() => {\n          setPlayerHP(maxPlayerHP);\n          if (isBossFight) {\n            setIsBossFight(false);\n            setCurrentBoss(null);\n          }\n          generateRandomEnemy();\n        }, 3000);\n      }\n    }\n\n    // Limpiar acci√≥n de combate despu√©s de un tiempo\n    setTimeout(() => {\n      setCombatAction(null);\n    }, 2000);\n  };\n\n  const handleCombatComplete = (result) => {\n    if (result === 'victory') {\n      // Bonus XP por derrotar enemigo\n      setXpGained(prev => prev + 25);\n    } else if (result === 'defeat') {\n      // Penalty por perder\n      setStreakCount(0);\n      setComboMultiplier(1);\n    }\n  };\n\n  // Funciones de habilidades\n  const handleSkillUse = (skill) => {\n    setSkillEffects(prev => [...prev, skill]);\n    \n    // Aplicar efecto inmediatamente\n    switch (skill.effect) {\n      case 'heal':\n        setPlayerHP(prev => Math.min(maxPlayerHP, prev + 30));\n        break;\n      case 'double_damage':\n        // Se aplica en el pr√≥ximo ataque\n        break;\n      case 'damage_reduction':\n        // Se aplica en el pr√≥ximo ataque recibido\n        break;\n      case 'ultimate_damage':\n        // Da√±o masivo inmediato\n        if (isBossFight) {\n          const damage = Math.floor(Math.random() * 60) + 40; // 40-100 damage\n          setBossHP(prev => Math.max(0, prev - damage));\n        } else {\n          const damage = Math.floor(Math.random() * 50) + 35; // 35-85 damage\n          setEnemyHP(prev => Math.max(0, prev - damage));\n        }\n        break;\n    }\n    \n    // Remover efecto despu√©s de un tiempo\n    setTimeout(() => {\n      setSkillEffects(prev => prev.filter(s => s.id !== skill.id));\n    }, 10000);\n  };\n\n  // Funciones de jefes\n  const spawnBoss = () => {\n    const boss = bossTypes[bossesDefeated % bossTypes.length];\n    setCurrentBoss(boss);\n    setBossHP(boss.hp);\n    setMaxBossHP(boss.hp);\n    setIsBossFight(true);\n    setCurrentEnemy(null); // Limpiar enemigo normal\n  };\n\n  const handleBossAttack = (attack) => {\n    // El jefe ataca al jugador\n    let damage = attack.damage;\n    \n    // Verificar si hay escudo activo\n    const hasShield = skillEffects.some(effect => effect.effect === 'damage_reduction');\n    if (hasShield) {\n      damage = Math.floor(damage * 0.5); // 50% reducci√≥n\n    }\n    \n    setPlayerHP(prev => Math.max(0, prev - damage));\n    \n    // Aplicar efectos especiales del ataque\n    switch (attack.effect) {\n      case 'Slow down timer':\n        setTimeRemaining(prev => Math.max(0, prev - 10));\n        break;\n      case 'Disable one skill':\n        // Implementar desactivaci√≥n de habilidad\n        break;\n      case 'Reduce XP gain':\n        setComboMultiplier(prev => Math.max(0.5, prev - 0.5));\n        break;\n    }\n  };\n\n  const handleBossDefeat = () => {\n    setBossesDefeated(prev => prev + 1);\n    setIsBossFight(false);\n    setCurrentBoss(null);\n    setXpGained(prev => prev + 100); // Gran bonus por derrotar jefe\n    \n    // Generar nuevo enemigo normal\n    setTimeout(() => {\n      generateRandomEnemy();\n    }, 2000);\n  };\n\n  // Modificar el sistema de combate para incluir jefes\n  const checkBossSpawn = () => {\n    // Spawn boss cada 10 enemigos derrotados\n    if (currentSession && currentSession.correctAnswers > 0 && \n        currentSession.correctAnswers % 10 === 0 && !isBossFight) {\n      spawnBoss();\n    }\n  };\n\n  if (gameState === 'idle' || loading) {\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">NEURAL MATRIX INITIALIZING</Title>\n            <Subtitle>Uploading training protocols...</Subtitle>\n            <LoadingSpinner>\n              <div className=\"spinner\"></div>\n            </LoadingSpinner>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  if (gameState === 'ended') {\n    const stats = getGameStats();\n    return (\n      <GameContainer>\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <GameCard className=\"cyberpunk-card\">\n            <Title className=\"cyberpunk-title\">TRAINING PROTOCOL COMPLETE</Title>\n            <Subtitle>Neural pathway enhancement achieved! Analysis:</Subtitle>\n            \n            <StatsContainer>\n              <StatItem>\n                <StatLabel>Questions Answered:</StatLabel>\n                <StatValue>{stats.questionsAnswered}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Correct Answers:</StatLabel>\n                <StatValue>{stats.correctAnswers}</StatValue>\n              </StatItem>\n              <StatItem>\n                <StatLabel>Accuracy:</StatLabel>\n                <StatValue>{stats.accuracy}%</StatValue>\n              </StatItem>\n            </StatsContainer>\n            \n            <ButtonContainer>\n              <ActionButton onClick={handleReturnToMenu}>\n                Return to Main Menu\n              </ActionButton>\n              <ActionButton onClick={handleStartGame}>\n                Start New Session\n              </ActionButton>\n            </ButtonContainer>\n          </GameCard>\n        </motion.div>\n      </GameContainer>\n    );\n  }\n\n  return (\n    <GameContainer>\n      <GameHeader>\n        <GameControls>\n          <SaveButton onClick={handleSaveGame}>\n            üíæ Save Game\n          </SaveButton>\n          <MenuButton onClick={handleReturnToMenu}>\n            üè† Return to Menu\n          </MenuButton>\n        </GameControls>\n        \n        <GameInfo>\n          <InfoItem>\n            <InfoLabel>Question:</InfoLabel>\n            <InfoValue>{currentSession?.questionsAnswered + 1}/65</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Time:</InfoLabel>\n            <InfoValue>{formatTime(timeRemaining)}</InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Accuracy:</InfoLabel>\n            <InfoValue>\n              {currentSession?.questionsAnswered > 0 \n                ? ((currentSession.correctAnswers / currentSession.questionsAnswered) * 100).toFixed(1)\n                : 0}%\n            </InfoValue>\n          </InfoItem>\n          <InfoItem>\n            <InfoLabel>Streak:</InfoLabel>\n            <InfoValue>\n              {streakCount}x {comboMultiplier > 1 && `(${comboMultiplier}x boost)`}\n            </InfoValue>\n          </InfoItem>\n        </GameInfo>\n      </GameHeader>\n\n      {/* Boss Manager */}\n      {gameState === 'playing' && isBossFight && currentBoss && (\n        <motion.div\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <BossManager\n            currentBoss={currentBoss}\n            bossHP={bossHP}\n            maxBossHP={maxBossHP}\n            onBossDefeat={handleBossDefeat}\n            onBossAttack={handleBossAttack}\n            questionCount={currentSession?.questionsAnswered || 0}\n          />\n        </motion.div>\n      )}\n\n      {/* Arena de Combate */}\n      {gameState === 'playing' && (\n        <motion.div\n          initial={{ opacity: 0, y: -30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <CombatArena\n            playerCharacter={playerCharacter}\n            enemyCharacter={isBossFight ? currentBoss : currentEnemy}\n            playerHP={playerHP}\n            enemyHP={isBossFight ? bossHP : enemyHP}\n            maxPlayerHP={maxPlayerHP}\n            maxEnemyHP={isBossFight ? maxBossHP : maxEnemyHP}\n            combatAction={combatAction}\n            onCombatComplete={handleCombatComplete}\n          />\n        </motion.div>\n      )}\n\n      {/* Barra de Habilidades */}\n      {gameState === 'playing' && activeSkills.length > 0 && (\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.3 }}\n        >\n          <SkillBar\n            skills={activeSkills}\n            onSkillUse={handleSkillUse}\n            disabled={loading || selectedAnswer !== null}\n          />\n        </motion.div>\n      )}\n\n      {currentQuestion && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <QuestionCard className=\"cyberpunk-card\">\n            {currentQuestion.cyberpunkContext && (\n              <EntitySection>\n                <EntityPortrait \n                  entity={{\n                    name: currentQuestion.cyberpunkContext.aiName,\n                    emoji: currentQuestion.cyberpunkContext.aiEmoji || \"ü§ñ\",\n                    description: currentQuestion.cyberpunkContext.description\n                  }}\n                  size=\"medium\"\n                />\n                <EntityFlavor>\n                  {currentQuestion.cyberpunkContext.neuralPrompt}\n                </EntityFlavor>\n              </EntitySection>\n            )}\n            \n            <QuestionText>{currentQuestion.question}</QuestionText>\n            \n            <OptionsContainer>\n              {currentQuestion.options.map((option, index) => (\n                <OptionButton\n                  key={index}\n                  onClick={() => !hasError && handleSubmitAnswer(index)}\n                  disabled={loading || selectedAnswer !== null}\n                  selected={selectedAnswer === index}\n                  className={selectedAnswer === index ? 'selected' : ''}\n                >\n                  {String.fromCharCode(65 + index)}. {option}\n                </OptionButton>\n              ))}\n            </OptionsContainer>\n\n            {hasError && (\n              <ErrorContainer>\n                <ErrorMessage>\n                  Neural interference detected. Recalibrate your selection.\n                </ErrorMessage>\n                <RetryButton onClick={handleRetryAfterError}>\n                  RETRY NEURAL LINK\n                </RetryButton>\n              </ErrorContainer>\n            )}\n          </QuestionCard>\n        </motion.div>\n      )}\n\n      {levelUpAnimation && (\n        <LevelUpOverlay\n          initial={{ opacity: 0, scale: 0.5 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 1.5 }}\n          transition={{ duration: 0.8 }}\n        >\n          <LevelUpText>‚ö° NEURAL UPGRADE ACHIEVED! ‚ö°</LevelUpText>\n          <LevelUpSubtext>Neural pathways enhanced</LevelUpSubtext>\n        </LevelUpOverlay>\n      )}\n      \n      {showExplanation && lastResult && (\n        <motion.div\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <ExplanationCard className=\"cyberpunk-card\">\n            <ExplanationHeader correct={lastResult.correct}>\n              {lastResult.correct ? '‚ö° NEURAL SYNC COMPLETE!' : 'üî¥ NEURAL DESYNC'}\n            </ExplanationHeader>\n            \n            {lastResult.correct && xpGained > 0 && (\n              <XPGainContainer>\n                <XPText>+{xpGained} XP</XPText>\n                {streakCount > 1 && <StreakText>üî• {streakCount} streak!</StreakText>}\n                {comboMultiplier > 1 && <ComboText>üí• {comboMultiplier}x multiplier!</ComboText>}\n              </XPGainContainer>\n            )}\n            \n            <ExplanationText>\n              {lastResult.explanation}\n            </ExplanationText>\n            {lastResult.aiResponse && (\n              <AIResponse>\n                {lastResult.aiResponse}\n              </AIResponse>\n            )}\n          </ExplanationCard>\n        </motion.div>\n      )}\n    </GameContainer>\n  );\n};\n\nconst GameContainer = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  padding: 1rem;\n  max-width: 1200px;\n  margin: 0 auto;\n`;\n\nconst GameHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.surface};\n  border-radius: 16px;\n  border: 1px solid ${props => props.theme.colors.border};\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    gap: 1rem;\n  }\n`;\n\nconst GameControls = styled.div`\n  display: flex;\n  gap: 1rem;\n`;\n\nconst SaveButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.info}, ${props => props.theme.colors.primary});\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst MenuButton = styled.button`\n  background: linear-gradient(135deg, ${props => props.theme.colors.error}, #DC2626);\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  box-shadow: ${props => props.theme.shadows.sm};\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: ${props => props.theme.shadows.md};\n  }\n`;\n\nconst GameInfo = styled.div`\n  display: flex;\n  gap: 2rem;\n  \n  @media (max-width: 768px) {\n    gap: 1rem;\n  }\n`;\n\nconst InfoItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst InfoLabel = styled.span`\n  font-size: 0.8rem;\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst InfoValue = styled.span`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.primary};\n`;\n\nconst GameCard = styled.div`\n  max-width: 800px;\n  width: 100%;\n  text-align: center;\n  margin: 0 auto;\n`;\n\nconst QuestionCard = styled.div`\n  margin-bottom: 2rem;\n  text-align: left;\n`;\n\nconst EntitySection = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 2rem;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundDark};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.secondary};\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    text-align: center;\n  }\n`;\n\nconst EntityFlavor = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n`;\n\nconst QuestionText = styled.p`\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin-bottom: 2rem;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst OptionsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst OptionButton = styled.button`\n  background: ${props => props.selected \n    ? `linear-gradient(45deg, ${props.theme.colors.primary}, ${props.theme.colors.secondary})`\n    : `linear-gradient(135deg, ${props.theme.colors.backgroundMedium}, ${props.theme.colors.surface})`\n  };\n  color: ${props => props.theme.colors.text};\n  border: 2px solid ${props => props.selected \n    ? props.theme.colors.primary \n    : props.theme.colors.accent\n  };\n  padding: 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  text-align: left;\n  font-size: 1rem;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n    border-color: ${props => props.theme.colors.primary};\n  }\n  \n  &:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n  }\n`;\n\nconst ErrorContainer = styled.div`\n  margin-top: 2rem;\n  padding: 1rem;\n  background: linear-gradient(135deg, #FF6B6B, #FF8E8E);\n  border-radius: 8px;\n  text-align: center;\n`;\n\nconst ErrorMessage = styled.p`\n  color: white;\n  margin-bottom: 1rem;\n  font-size: 1rem;\n`;\n\nconst RetryButton = styled.button`\n  background: white;\n  color: #FF6B6B;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);\n  }\n`;\n\nconst ExplanationCard = styled.div`\n  margin-top: 2rem;\n  text-align: left;\n`;\n\nconst ExplanationHeader = styled.h3`\n  color: ${props => props.correct ? '#00ff88' : '#ff0066'};\n  margin-bottom: 1rem;\n  font-size: 1.5rem;\n`;\n\nconst ExplanationText = styled.p`\n  color: ${props => props.theme.colors.text};\n  line-height: 1.6;\n  margin-bottom: 1rem;\n`;\n\nconst AIResponse = styled.p`\n  color: ${props => props.theme.colors.accent};\n  font-style: italic;\n  font-size: 0.9rem;\n  margin: 0;\n  border-left: 3px solid ${props => props.theme.colors.primary};\n  padding-left: 1rem;\n  background: rgba(0, 255, 255, 0.05);\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 8px;\n`;\n\nconst StatsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin: 2rem 0;\n`;\n\nconst StatItem = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n  background: ${props => props.theme.colors.backgroundMedium};\n  border-radius: 8px;\n  border: 1px solid ${props => props.theme.colors.accent};\n`;\n\nconst StatLabel = styled.span`\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nconst StatValue = styled.span`\n  color: ${props => props.theme.colors.primary};\n  font-weight: bold;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nconst ActionButton = styled.button`\n  background: linear-gradient(45deg, ${props => props.theme.colors.primary}, ${props => props.theme.colors.secondary});\n  color: white;\n  border: none;\n  padding: 1rem 2rem;\n  border-radius: 8px;\n  cursor: pointer;\n  font-size: 1rem;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(116, 0, 184, 0.3);\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 3rem;\n  margin-bottom: 1rem;\n  \n  @media (max-width: 768px) {\n    font-size: 2rem;\n  }\n`;\n\nconst Subtitle = styled.p`\n  color: ${props => props.theme.colors.textSecondary};\n  margin-bottom: 2rem;\n  font-size: 1.2rem;\n`;\n\nconst LoadingSpinner = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 2rem 0;\n  \n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 3px solid ${props => props.theme.colors.backgroundMedium};\n    border-top: 3px solid ${props => props.theme.colors.primary};\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst XPGainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 1rem 0;\n  padding: 1rem;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 0, 0.1));\n  border: 2px solid ${props => props.theme.colors.accent};\n  border-radius: 12px;\n  animation: neonPulse 2s ease-in-out infinite;\n`;\n\nconst XPText = styled.div`\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: ${props => props.theme.colors.accent};\n  font-family: ${props => props.theme.fonts.display};\n  text-shadow: 0 0 10px ${props => props.theme.colors.accent};\n`;\n\nconst StreakText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.warning};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.5rem;\n`;\n\nconst ComboText = styled.div`\n  font-size: 1rem;\n  color: ${props => props.theme.colors.secondary};\n  font-family: ${props => props.theme.fonts.cyber};\n  margin-top: 0.25rem;\n`;\n\nconst LevelUpOverlay = styled(motion.div)`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  background: linear-gradient(135deg, rgba(0, 255, 255, 0.9), rgba(0, 255, 0, 0.9));\n  padding: 3rem;\n  border-radius: 20px;\n  text-align: center;\n  border: 3px solid ${props => props.theme.colors.primary};\n  box-shadow: 0 0 50px ${props => props.theme.colors.primary};\n`;\n\nconst LevelUpText = styled.div`\n  font-size: 2.5rem;\n  font-weight: bold;\n  color: #000;\n  font-family: ${props => props.theme.fonts.display};\n  margin-bottom: 1rem;\n  animation: pulse 1s ease-in-out infinite;\n`;\n\nconst LevelUpSubtext = styled.div`\n  font-size: 1.2rem;\n  color: #000;\n  font-family: ${props => props.theme.fonts.cyber};\n`;\n\nexport default GamePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}